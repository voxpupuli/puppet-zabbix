# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`zabbix`](#zabbix): This will install and configure the zabbix-server on a single host.
* [`zabbix::agent`](#zabbixagent): This will install and configure the zabbix-agent deamon
* [`zabbix::database`](#zabbixdatabase): This will install the correct database and one or more users for correct usage
* [`zabbix::database::sqlite`](#zabbixdatabasesqlite): Class to handle sqlite database installations zabbix will automatically create a sqlite schema if one does not already exist.
* [`zabbix::javagateway`](#zabbixjavagateway): This will install and configure the zabbix-agent deamon
* [`zabbix::params`](#zabbixparams): This class manages zabbix server parameters
* [`zabbix::proxy`](#zabbixproxy): This will install and configure the zabbix-proxy deamon
* [`zabbix::repo`](#zabbixrepo): If enabled, this will install the repository used for installing zabbix
* [`zabbix::resources::agent`](#zabbixresourcesagent): This will create resources into puppetdb for automatically configuring agent into zabbix front-end.
* [`zabbix::resources::proxy`](#zabbixresourcesproxy): This will create resources into puppetdb for automatically configuring proxy agent into zabbix front-end.
* [`zabbix::resources::web`](#zabbixresourcesweb): This will load all zabbix related items from the puppet database and uses the zabbixapi gem to add/configure hosts via the zabbix-api
* [`zabbix::sender`](#zabbixsender): This will install and configure the zabbix-agent deamon
* [`zabbix::server`](#zabbixserver): This will install and configure the zabbix-server deamon
* [`zabbix::userparameter`](#zabbixuserparameter): This class can be used when you use hiera or The Foreman. With this tools you can't use and define. This make use of "create_resources".
* [`zabbix::web`](#zabbixweb): This will install the zabbix-web package and install an virtual host.
* [`zabbix::zapache`](#zabbixzapache): This will install and configure the zapache monitoring script Upstream: https://github.com/lorf/zapache

#### Private Classes

* `zabbix::database::mysql`: This will install and load the sql files for the tables and other data which is needed for zabbix.
* `zabbix::database::postgresql`: This will install and load the sql files for the tables and other data which is needed for zabbix.

### Defined types

* [`zabbix::resources::template`](#zabbixresourcestemplate): This will create resources into puppetdb for automatically configuring agent into zabbix front-end.
* [`zabbix::resources::userparameters`](#zabbixresourcesuserparameters): This will create resources into puppetdb for automatically configuring agent into zabbix front-end.
* [`zabbix::startup`](#zabbixstartup): This manage the zabbix related service startup script.
* [`zabbix::template`](#zabbixtemplate): This will upload an Zabbix Template (XML format)
* [`zabbix::userparameters`](#zabbixuserparameters): This will install an userparameters file with keys for items that can be checked with zabbix.

### Resource types

* [`zabbix_application`](#zabbix_application): %q(Manage zabbix applications      zabbix_application{"app1":       ensure   => present,       template => 'template1',     }  It Raise excep
* [`zabbix_host`](#zabbix_host): FQDN of the machine.
* [`zabbix_hostgroup`](#zabbix_hostgroup): Manage zabbix hostgroups
* [`zabbix_proxy`](#zabbix_proxy): FQDN of the proxy.
* [`zabbix_template`](#zabbix_template): The name of template.
* [`zabbix_template_host`](#zabbix_template_host): Link or Unlink template to host. Only for Zabbix < 6.0! Example. Name should be in the format of "template_name@hostname"  zabbix_template_ho
* [`zabbix_userparameters`](#zabbix_userparameters): An unique name for this define.

### Data types

* [`Zabbix::Databases`](#zabbixdatabases): Type for supported databases by the zabbix module
* [`Zabbix::Historyics`](#zabbixhistoryics)

## Classes

### <a name="zabbix"></a>`zabbix`

This will install and configure the zabbix-server on a single host.

#### Examples

##### Single host setup:

```puppet
class { 'zabbix':
  zabbix_url => 'zabbix.dj-wasabi.nl',
}
```

##### This assumes that you want to use the postgresql database. If not and you want to supply your own database crendentials:

```puppet
class { 'zabbix':
  zabbix_url        => 'zabbix.dj-wasabi.nl',
  database_type     => 'mysql',
  database_user     => 'zabbix',
  database_password => 'ThisIsVeryDifficult.nl',
}
```

#### Parameters

The following parameters are available in the `zabbix` class:

* [`zabbix_url`](#zabbix_url)
* [`zabbix_version`](#zabbix_version)
* [`zabbix_timezone`](#zabbix_timezone)
* [`zabbix_template_dir`](#zabbix_template_dir)
* [`zabbix_package_state`](#zabbix_package_state)
* [`zabbix_server`](#zabbix_server)
* [`zabbix_server_ip`](#zabbix_server_ip)
* [`zabbix_web`](#zabbix_web)
* [`zabbix_web_ip`](#zabbix_web_ip)
* [`database_type`](#database_type)
* [`database_path`](#database_path)
* [`manage_database`](#manage_database)
* [`manage_repo`](#manage_repo)
* [`manage_firewall`](#manage_firewall)
* [`manage_service`](#manage_service)
* [`manage_resources`](#manage_resources)
* [`manage_vhost`](#manage_vhost)
* [`default_vhost`](#default_vhost)
* [`apache_use_ssl`](#apache_use_ssl)
* [`apache_ssl_cert`](#apache_ssl_cert)
* [`apache_ssl_key`](#apache_ssl_key)
* [`apache_ssl_cipher`](#apache_ssl_cipher)
* [`apache_ssl_chain`](#apache_ssl_chain)
* [`apache_listen_ip`](#apache_listen_ip)
* [`apache_listenport`](#apache_listenport)
* [`apache_listenport_ssl`](#apache_listenport_ssl)
* [`apache_php_max_execution_time`](#apache_php_max_execution_time)
* [`apache_php_memory_limit`](#apache_php_memory_limit)
* [`apache_php_post_max_size`](#apache_php_post_max_size)
* [`apache_php_upload_max_filesize`](#apache_php_upload_max_filesize)
* [`apache_php_max_input_time`](#apache_php_max_input_time)
* [`apache_php_always_populate_raw_post_data`](#apache_php_always_populate_raw_post_data)
* [`ldap_cacert`](#ldap_cacert)
* [`ldap_clientcert`](#ldap_clientcert)
* [`ldap_clientkey`](#ldap_clientkey)
* [`ldap_reqcert`](#ldap_reqcert)
* [`zabbix_api_user`](#zabbix_api_user)
* [`zabbix_api_pass`](#zabbix_api_pass)
* [`listenport`](#listenport)
* [`sourceip`](#sourceip)
* [`logfile`](#logfile)
* [`logfilesize`](#logfilesize)
* [`logtype`](#logtype)
* [`debuglevel`](#debuglevel)
* [`pidfile`](#pidfile)
* [`database_host`](#database_host)
* [`database_name`](#database_name)
* [`database_schema`](#database_schema)
* [`database_double_ieee754`](#database_double_ieee754)
* [`database_user`](#database_user)
* [`database_password`](#database_password)
* [`database_socket`](#database_socket)
* [`database_port`](#database_port)
* [`database_charset`](#database_charset)
* [`database_collate`](#database_collate)
* [`database_tablespace`](#database_tablespace)
* [`database_tlsconnect`](#database_tlsconnect)
* [`database_tlscafile`](#database_tlscafile)
* [`startpollers`](#startpollers)
* [`startpreprocessors`](#startpreprocessors)
* [`startipmipollers`](#startipmipollers)
* [`startpollersunreachable`](#startpollersunreachable)
* [`starttrappers`](#starttrappers)
* [`startpingers`](#startpingers)
* [`startalerters`](#startalerters)
* [`startdiscoverers`](#startdiscoverers)
* [`startescalators`](#startescalators)
* [`starthttppollers`](#starthttppollers)
* [`starttimers`](#starttimers)
* [`javagateway`](#javagateway)
* [`javagatewayport`](#javagatewayport)
* [`startjavapollers`](#startjavapollers)
* [`startlldprocessors`](#startlldprocessors)
* [`startvmwarecollectors`](#startvmwarecollectors)
* [`vaultdbpath`](#vaultdbpath)
* [`vaulttoken`](#vaulttoken)
* [`vaulturl`](#vaulturl)
* [`vmwarefrequency`](#vmwarefrequency)
* [`vmwarecachesize`](#vmwarecachesize)
* [`vmwaretimeout`](#vmwaretimeout)
* [`snmptrapperfile`](#snmptrapperfile)
* [`startsnmptrapper`](#startsnmptrapper)
* [`listenip`](#listenip)
* [`housekeepingfrequency`](#housekeepingfrequency)
* [`maxhousekeeperdelete`](#maxhousekeeperdelete)
* [`cachesize`](#cachesize)
* [`cacheupdatefrequency`](#cacheupdatefrequency)
* [`startdbsyncers`](#startdbsyncers)
* [`historycachesize`](#historycachesize)
* [`historyindexcachesize`](#historyindexcachesize)
* [`trendcachesize`](#trendcachesize)
* [`valuecachesize`](#valuecachesize)
* [`timeout`](#timeout)
* [`tlscafile`](#tlscafile)
* [`tlscertfile`](#tlscertfile)
* [`tlscrlfile`](#tlscrlfile)
* [`tlskeyfile`](#tlskeyfile)
* [`tlscipherall`](#tlscipherall)
* [`tlscipherall13`](#tlscipherall13)
* [`tlsciphercert`](#tlsciphercert)
* [`tlsciphercert13`](#tlsciphercert13)
* [`tlscipherpsk`](#tlscipherpsk)
* [`tlscipherpsk13`](#tlscipherpsk13)
* [`trappertimeout`](#trappertimeout)
* [`unreachableperiod`](#unreachableperiod)
* [`unavailabledelay`](#unavailabledelay)
* [`unreachabledelay`](#unreachabledelay)
* [`alertscriptspath`](#alertscriptspath)
* [`externalscripts`](#externalscripts)
* [`fpinglocation`](#fpinglocation)
* [`fping6location`](#fping6location)
* [`sshkeylocation`](#sshkeylocation)
* [`logslowqueries`](#logslowqueries)
* [`tmpdir`](#tmpdir)
* [`startproxypollers`](#startproxypollers)
* [`proxyconfigfrequency`](#proxyconfigfrequency)
* [`proxydatafrequency`](#proxydatafrequency)
* [`allowroot`](#allowroot)
* [`include_dir`](#include_dir)
* [`loadmodulepath`](#loadmodulepath)
* [`loadmodule`](#loadmodule)
* [`socketdir`](#socketdir)
* [`manage_selinux`](#manage_selinux)
* [`additional_service_params`](#additional_service_params)
* [`zabbix_user`](#zabbix_user)
* [`zabbix_server_name`](#zabbix_server_name)
* [`saml_sp_key`](#saml_sp_key)
* [`saml_sp_cert`](#saml_sp_cert)
* [`saml_idp_cert`](#saml_idp_cert)
* [`saml_settings`](#saml_settings)

##### <a name="zabbix_url"></a>`zabbix_url`

Data type: `Any`

Url on which zabbix needs to be available. Will create an vhost in
apache. Only needed when manage_vhost is set to true.
Example: zabbix.example.com

Default value: `''`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_timezone"></a>`zabbix_timezone`

Data type: `Any`

The current timezone for vhost configuration needed for the php timezone. Example: Europe/Amsterdam

Default value: `$zabbix::params::zabbix_timezone`

##### <a name="zabbix_template_dir"></a>`zabbix_template_dir`

Data type: `Any`

The directory where all templates are stored before uploading via API

Default value: `$zabbix::params::zabbix_template_dir`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="zabbix_server"></a>`zabbix_server`

Data type: `Any`

This is the FQDN for the host running zabbix-server. This parameter
is used when database_type = mysql. Default: localhost

Default value: `$zabbix::params::zabbix_server`

##### <a name="zabbix_server_ip"></a>`zabbix_server_ip`

Data type: `Any`

This is the actual ip address of the host running zabbix-server
This parameter is used when database_type = postgresql. Default:
127.0.0.1

Default value: `$zabbix::params::zabbix_server_ip`

##### <a name="zabbix_web"></a>`zabbix_web`

Data type: `Any`

This is the hostname of the server which is running the
zabbix-web package. This parameter is used when database_type =
mysql. When single node: localhost

Default value: `$zabbix::params::zabbix_web`

##### <a name="zabbix_web_ip"></a>`zabbix_web_ip`

Data type: `Any`

This is the ip address of the server which is running the
zabbix-web package. This parameter is used when database_type =
postgresql. When single node: 127.0.0.1

Default value: `$zabbix::params::zabbix_web_ip`

##### <a name="database_type"></a>`database_type`

Data type: `Zabbix::Databases`

Type of database. Can use the following 2 databases:
- postgresql
- mysql

Default value: `$zabbix::params::database_type`

##### <a name="database_path"></a>`database_path`

Data type: `Any`

When database binaries are not found on the default path:
/bin:/usr/bin:/usr/local/sbin:/usr/local/bin
you can use this parameter to add the database_path to the above mentioned
path.

Default value: `$zabbix::params::database_path`

##### <a name="manage_database"></a>`manage_database`

Data type: `Any`

When true, it will configure the database and execute the sql scripts.

Default value: `$zabbix::params::manage_database`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Any`

When true (default) this module will manage the Zabbix repository.

Default value: `$zabbix::params::manage_repo`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Any`

When true, it will create iptables rules.

Default value: `$zabbix::params::manage_firewall`

##### <a name="manage_service"></a>`manage_service`

Data type: `Any`

When true, it will ensure service running and enabled.
When false, it does not care about service

Default value: `$zabbix::params::manage_service`

##### <a name="manage_resources"></a>`manage_resources`

Data type: `Any`

When true, it will export resources to something like puppetdb.
When set to true, you'll need to configure 'storeconfigs' to make
this happen. Default is set to false, as not everyone has this
enabled.

Default value: `$zabbix::params::manage_resources`

##### <a name="manage_vhost"></a>`manage_vhost`

Data type: `Any`

When true, it will create an vhost for apache. The parameter zabbix_url has to be set.

Default value: `$zabbix::params::manage_vhost`

##### <a name="default_vhost"></a>`default_vhost`

Data type: `Any`

When true priority of 15 is passed to zabbix vhost which would end up
with marking zabbix vhost as default one, when false priority is set to 25

Default value: `$zabbix::params::default_vhost`

##### <a name="apache_use_ssl"></a>`apache_use_ssl`

Data type: `Any`

Will create an ssl vhost. Also nonssl vhost will be created for redirect
nonssl to ssl vhost.

Default value: `$zabbix::params::apache_use_ssl`

##### <a name="apache_ssl_cert"></a>`apache_ssl_cert`

Data type: `Any`

The location of the ssl certificate file. You'll need to make sure this
file is present on the system, this module will not install this file.

Default value: `$zabbix::params::apache_ssl_cert`

##### <a name="apache_ssl_key"></a>`apache_ssl_key`

Data type: `Any`

The location of the ssl key file. You'll need to make sure this file is
present on the system, this module will not install this file.

Default value: `$zabbix::params::apache_ssl_key`

##### <a name="apache_ssl_cipher"></a>`apache_ssl_cipher`

Data type: `Any`

The ssl cipher used. Cipher is used from this website:
https://wiki.mozilla.org/Security/Server_Side_TLS

Default value: `$zabbix::params::apache_ssl_cipher`

##### <a name="apache_ssl_chain"></a>`apache_ssl_chain`

Data type: `Any`

The ssl chain file.

Default value: `$zabbix::params::apache_ssl_chain`

##### <a name="apache_listen_ip"></a>`apache_listen_ip`

Data type: `Any`

The IP the apache service should listen on.

Default value: `$zabbix::params::apache_listen_ip`

##### <a name="apache_listenport"></a>`apache_listenport`

Data type: `Any`

The port for the apache vhost.

Default value: `$zabbix::params::apache_listenport`

##### <a name="apache_listenport_ssl"></a>`apache_listenport_ssl`

Data type: `Any`

The port for the apache SSL vhost.

Default value: `$zabbix::params::apache_listenport_ssl`

##### <a name="apache_php_max_execution_time"></a>`apache_php_max_execution_time`

Data type: `Any`

Max execution time for php. Default: 300

Default value: `$zabbix::params::apache_php_max_execution_time`

##### <a name="apache_php_memory_limit"></a>`apache_php_memory_limit`

Data type: `Any`

PHP memory size limit. Default: 128M

Default value: `$zabbix::params::apache_php_memory_limit`

##### <a name="apache_php_post_max_size"></a>`apache_php_post_max_size`

Data type: `Any`

PHP maximum post size data. Default: 16M

Default value: `$zabbix::params::apache_php_post_max_size`

##### <a name="apache_php_upload_max_filesize"></a>`apache_php_upload_max_filesize`

Data type: `Any`

PHP maximum upload filesize. Default: 2M

Default value: `$zabbix::params::apache_php_upload_max_filesize`

##### <a name="apache_php_max_input_time"></a>`apache_php_max_input_time`

Data type: `Any`

Max input time for php. Default: 300

Default value: `$zabbix::params::apache_php_max_input_time`

##### <a name="apache_php_always_populate_raw_post_data"></a>`apache_php_always_populate_raw_post_data`

Data type: `Any`

Default: -1

Default value: `$zabbix::params::apache_php_always_populate_raw_post_data`

##### <a name="ldap_cacert"></a>`ldap_cacert`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of ca_cert used by LDAP authentication.

Default value: `$zabbix::params::ldap_cacert`

##### <a name="ldap_clientcert"></a>`ldap_clientcert`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of client cert used by LDAP authentication.

Default value: `$zabbix::params::ldap_clientcert`

##### <a name="ldap_clientkey"></a>`ldap_clientkey`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of client key used by LDAP authentication.

Default value: `$zabbix::params::ldap_clientkey`

##### <a name="ldap_reqcert"></a>`ldap_reqcert`

Data type: `Optional[Enum['never', 'allow', 'try', 'demand', 'hard']]`

Specifies what checks to perform on a server certificate

Default value: `$zabbix::params::ldap_reqcert`

##### <a name="zabbix_api_user"></a>`zabbix_api_user`

Data type: `Any`

Name of the user which the api should connect to. Default: Admin

Default value: `$zabbix::params::server_api_user`

##### <a name="zabbix_api_pass"></a>`zabbix_api_pass`

Data type: `Any`

Password of the user which connects to the api. Default: zabbix

Default value: `$zabbix::params::server_api_pass`

##### <a name="listenport"></a>`listenport`

Data type: `Any`

Listen port for the zabbix-server. Default: 10051

Default value: `$zabbix::params::server_listenport`

##### <a name="sourceip"></a>`sourceip`

Data type: `Any`

Source ip address for outgoing connections.

Default value: `$zabbix::params::server_sourceip`

##### <a name="logfile"></a>`logfile`

Data type: `Optional[Stdlib::Absolutepath]`

Name of log file.

Default value: `$zabbix::params::server_logfile`

##### <a name="logfilesize"></a>`logfilesize`

Data type: `Any`

Maximum size of log file in MB.

Default value: `$zabbix::params::server_logfilesize`

##### <a name="logtype"></a>`logtype`

Data type: `Enum['console', 'file', 'system']`

Specifies where log messages are written to. (options: console, file, system)

Default value: `$zabbix::params::server_logtype`

##### <a name="debuglevel"></a>`debuglevel`

Data type: `Any`

Specifies debug level.

Default value: `$zabbix::params::server_debuglevel`

##### <a name="pidfile"></a>`pidfile`

Data type: `Any`

Name of pid file.

Default value: `$zabbix::params::server_pidfile`

##### <a name="database_host"></a>`database_host`

Data type: `Any`

Database host name.

Default value: `$zabbix::params::server_database_host`

##### <a name="database_name"></a>`database_name`

Data type: `Any`

Database name.

Default value: `$zabbix::params::server_database_name`

##### <a name="database_schema"></a>`database_schema`

Data type: `Any`

Schema name. used for ibm db2.

Default value: `$zabbix::params::server_database_schema`

##### <a name="database_double_ieee754"></a>`database_double_ieee754`

Data type: `Boolean`

Enable extended range of float values for new installs of Zabbix >= 5.0 and
after patching upgraded installs to 5.0 or greater.
https://www.zabbix.com/documentation/5.0/manual/installation/upgrade_notes_500#enabling_extended_range_of_numeric_float_values

Default value: `$zabbix::params::server_database_double_ieee754`

##### <a name="database_user"></a>`database_user`

Data type: `Any`

Database user. ignored for sqlite.

Default value: `$zabbix::params::server_database_user`

##### <a name="database_password"></a>`database_password`

Data type: `Any`

Database password. ignored for sqlite.

Default value: `$zabbix::params::server_database_password`

##### <a name="database_socket"></a>`database_socket`

Data type: `Any`

Path to mysql socket.

Default value: `$zabbix::params::server_database_socket`

##### <a name="database_port"></a>`database_port`

Data type: `Any`

Database port when not using local socket. Ignored for sqlite.

Default value: `$zabbix::params::server_database_port`

##### <a name="database_charset"></a>`database_charset`

Data type: `Any`

The default charset of the database.

Default value: `$zabbix::params::server_database_charset`

##### <a name="database_collate"></a>`database_collate`

Data type: `Any`

The default collation of the database.

Default value: `$zabbix::params::server_database_collate`

##### <a name="database_tablespace"></a>`database_tablespace`

Data type: `Any`

The tablespace the database will be created in. This setting only affects PostgreSQL databases.

Default value: `$zabbix::params::server_database_tablespace`

##### <a name="database_tlsconnect"></a>`database_tlsconnect`

Data type: `Optional[Enum['required', 'verify_ca', 'verify_full']]`

Available options:
* required - connect using TLS
* verify_ca - connect using TLS and verify certificate
* verify_full - connect using TLS, verify certificate and verify that database identity specified by DBHost matches its certificate

Default value: `$zabbix::params::server_database_tlsconnect`

##### <a name="database_tlscafile"></a>`database_tlscafile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of a file containing the top-level CA(s) certificates for database certificate verification.

Default value: `$zabbix::params::server_database_tlscafile`

##### <a name="startpollers"></a>`startpollers`

Data type: `Any`

Number of pre-forked instances of pollers.

Default value: `$zabbix::params::server_startpollers`

##### <a name="startpreprocessors"></a>`startpreprocessors`

Data type: `Integer[1, 1000]`

Number of pre-forked instances of preprocessing workers

Default value: `$zabbix::params::server_startpreprocessors`

##### <a name="startipmipollers"></a>`startipmipollers`

Data type: `Any`

Number of pre-forked instances of ipmi pollers.

Default value: `$zabbix::params::server_startipmipollers`

##### <a name="startpollersunreachable"></a>`startpollersunreachable`

Data type: `Any`

Number of pre-forked instances of pollers for unreachable hosts (including ipmi).

Default value: `$zabbix::params::server_startpollersunreachable`

##### <a name="starttrappers"></a>`starttrappers`

Data type: `Any`

Number of pre-forked instances of trappers.

Default value: `$zabbix::params::server_starttrappers`

##### <a name="startpingers"></a>`startpingers`

Data type: `Any`

Number of pre-forked instances of icmp pingers.

Default value: `$zabbix::params::server_startpingers`

##### <a name="startalerters"></a>`startalerters`

Data type: `Integer[1, 100]`

Number of pre-forked instances of alerters.

Default value: `$zabbix::params::server_startalerters`

##### <a name="startdiscoverers"></a>`startdiscoverers`

Data type: `Any`

Number of pre-forked instances of discoverers.

Default value: `$zabbix::params::server_startdiscoverers`

##### <a name="startescalators"></a>`startescalators`

Data type: `Integer[1, 100]`

Number of pre-forked instances of escalators.

Default value: `$zabbix::params::server_startescalators`

##### <a name="starthttppollers"></a>`starthttppollers`

Data type: `Any`

Number of pre-forked instances of http pollers.

Default value: `$zabbix::params::server_starthttppollers`

##### <a name="starttimers"></a>`starttimers`

Data type: `Any`

Number of pre-forked instances of timers.

Default value: `$zabbix::params::server_starttimers`

##### <a name="javagateway"></a>`javagateway`

Data type: `Any`

IP address (or hostname) of zabbix java gateway.

Default value: `$zabbix::params::server_javagateway`

##### <a name="javagatewayport"></a>`javagatewayport`

Data type: `Any`

Port that zabbix java gateway listens on.

Default value: `$zabbix::params::server_javagatewayport`

##### <a name="startjavapollers"></a>`startjavapollers`

Data type: `Any`

Number of pre-forked instances of java pollers.

Default value: `$zabbix::params::server_startjavapollers`

##### <a name="startlldprocessors"></a>`startlldprocessors`

Data type: `Integer[1, 100]`

Number of pre-forked instances of low-level discovery (LLD) workers.

Default value: `$zabbix::params::server_startlldprocessors`

##### <a name="startvmwarecollectors"></a>`startvmwarecollectors`

Data type: `Any`

Number of pre-forked vmware collector instances.

Default value: `$zabbix::params::server_startvmwarecollectors`

##### <a name="vaultdbpath"></a>`vaultdbpath`

Data type: `Optional[String[1]]`

Vault path from where credentials for database will be retrieved by keys 'password' and 'username'.

Default value: `$zabbix::params::server_vaultdbpath`

##### <a name="vaulttoken"></a>`vaulttoken`

Data type: `Optional[String[1]]`

Vault authentication token that should have been generated exclusively for Zabbix proxy with read-only
permission to the path specified in the optional VaultDBPath configuration parameter.

Default value: `$zabbix::params::server_vaulttoken`

##### <a name="vaulturl"></a>`vaulturl`

Data type: `Stdlib::HTTPSUrl`

Vault server HTTP[S] URL. System-wide CA certificates directory will be used if SSLCALocation is not specified.

Default value: `$zabbix::params::server_vaulturl`

##### <a name="vmwarefrequency"></a>`vmwarefrequency`

Data type: `Any`

How often zabbix will connect to vmware service to obtain a new datan.

Default value: `$zabbix::params::server_vmwarefrequency`

##### <a name="vmwarecachesize"></a>`vmwarecachesize`

Data type: `Any`

Size of vmware cache, in bytes.

Default value: `$zabbix::params::server_vmwarecachesize`

##### <a name="vmwaretimeout"></a>`vmwaretimeout`

Data type: `Any`

The maximum number of seconds vmware collector will wait for a response from VMware service.

Default value: `$zabbix::params::server_vmwaretimeout`

##### <a name="snmptrapperfile"></a>`snmptrapperfile`

Data type: `Any`

Temporary file used for passing data from snmp trap daemon to the server.

Default value: `$zabbix::params::server_snmptrapperfile`

##### <a name="startsnmptrapper"></a>`startsnmptrapper`

Data type: `Any`

If 1, snmp trapper process is started.

Default value: `$zabbix::params::server_startsnmptrapper`

##### <a name="listenip"></a>`listenip`

Data type: `Any`

List of comma delimited ip addresses that the zabbix-server should listen on.

Default value: `$zabbix::params::server_listenip`

##### <a name="housekeepingfrequency"></a>`housekeepingfrequency`

Data type: `Any`

How often zabbix will perform housekeeping procedure (in hours).

Default value: `$zabbix::params::server_housekeepingfrequency`

##### <a name="maxhousekeeperdelete"></a>`maxhousekeeperdelete`

Data type: `Any`

the table "housekeeper" contains "tasks" for housekeeping procedure in the format:
[housekeeperid], [tablename], [field], [value].
no more than 'maxhousekeeperdelete' rows (corresponding to [tablename], [field], [value])
will be deleted per one task in one housekeeping cycle.
sqlite3 does not use this parameter, deletes all corresponding rows without a limit.
if set to 0 then no limit is used at all. in this case you must know what you are doing!

Default value: `$zabbix::params::server_maxhousekeeperdelete`

##### <a name="cachesize"></a>`cachesize`

Data type: `Any`

Size of configuration cache, in bytes.

Default value: `$zabbix::params::server_cachesize`

##### <a name="cacheupdatefrequency"></a>`cacheupdatefrequency`

Data type: `Any`

How often zabbix will perform update of configuration cache, in seconds.

Default value: `$zabbix::params::server_cacheupdatefrequency`

##### <a name="startdbsyncers"></a>`startdbsyncers`

Data type: `Any`

Number of pre-forked instances of db syncers.

Default value: `$zabbix::params::server_startdbsyncers`

##### <a name="historycachesize"></a>`historycachesize`

Data type: `Any`

Size of history cache, in bytes.

Default value: `$zabbix::params::server_historycachesize`

##### <a name="historyindexcachesize"></a>`historyindexcachesize`

Data type: `Zabbix::Historyics`

Size of history index cache, in bytes.

Default value: `$zabbix::params::server_historyindexcachesize`

##### <a name="trendcachesize"></a>`trendcachesize`

Data type: `Any`

Size of trend cache, in bytes.

Default value: `$zabbix::params::server_trendcachesize`

##### <a name="valuecachesize"></a>`valuecachesize`

Data type: `Any`

Size of history value cache, in bytes.

Default value: `$zabbix::params::server_valuecachesize`

##### <a name="timeout"></a>`timeout`

Data type: `Any`

Specifies how long we wait for agent, snmp device or external check (in seconds).

Default value: `$zabbix::params::server_timeout`

##### <a name="tlscafile"></a>`tlscafile`

Data type: `Any`

Full pathname of a file containing the top-level CA(s) certificates for peer certificate verification.

Default value: `$zabbix::params::server_tlscafile`

##### <a name="tlscertfile"></a>`tlscertfile`

Data type: `Any`

Full pathname of a file containing the server certificate or certificate chain.

Default value: `$zabbix::params::server_tlscertfile`

##### <a name="tlscrlfile"></a>`tlscrlfile`

Data type: `Any`

Full pathname of a file containing revoked certificates.

Default value: `$zabbix::params::server_tlscrlfile`

##### <a name="tlskeyfile"></a>`tlskeyfile`

Data type: `Any`

Full pathname of a file containing the server private key.

Default value: `$zabbix::params::server_tlskeyfile`

##### <a name="tlscipherall"></a>`tlscipherall`

Data type: `Any`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherall`

##### <a name="tlscipherall13"></a>`tlscipherall13`

Data type: `Any`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherall13`

##### <a name="tlsciphercert"></a>`tlsciphercert`

Data type: `Any`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::server_tlsciphercert`

##### <a name="tlsciphercert13"></a>`tlsciphercert13`

Data type: `Any`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::server_tlsciphercert13`

##### <a name="tlscipherpsk"></a>`tlscipherpsk`

Data type: `Any`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherpsk`

##### <a name="tlscipherpsk13"></a>`tlscipherpsk13`

Data type: `Any`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherpsk13`

##### <a name="trappertimeout"></a>`trappertimeout`

Data type: `Any`

Specifies how many seconds trapper may spend processing new data.

Default value: `$zabbix::params::server_trappertimeout`

##### <a name="unreachableperiod"></a>`unreachableperiod`

Data type: `Any`

After how many seconds of unreachability treat a host as unavailable.

Default value: `$zabbix::params::server_unreachableperiod`

##### <a name="unavailabledelay"></a>`unavailabledelay`

Data type: `Any`

How often host is checked for availability during the unavailability period, in seconds.

Default value: `$zabbix::params::server_unavailabledelay`

##### <a name="unreachabledelay"></a>`unreachabledelay`

Data type: `Any`

How often host is checked for availability during the unreachability period, in seconds.

Default value: `$zabbix::params::server_unreachabledelay`

##### <a name="alertscriptspath"></a>`alertscriptspath`

Data type: `Any`

Full path to location of custom alert scripts.

Default value: `$zabbix::params::server_alertscriptspath`

##### <a name="externalscripts"></a>`externalscripts`

Data type: `Any`

Full path to location of external scripts.

Default value: `$zabbix::params::server_externalscripts`

##### <a name="fpinglocation"></a>`fpinglocation`

Data type: `Any`

Location of fping.

Default value: `$zabbix::params::server_fpinglocation`

##### <a name="fping6location"></a>`fping6location`

Data type: `Any`

Location of fping6.

Default value: `$zabbix::params::server_fping6location`

##### <a name="sshkeylocation"></a>`sshkeylocation`

Data type: `Any`

Location of public and private keys for ssh checks and actions.

Default value: `$zabbix::params::server_sshkeylocation`

##### <a name="logslowqueries"></a>`logslowqueries`

Data type: `Any`

How long a database query may take before being logged (in milliseconds).

Default value: `$zabbix::params::server_logslowqueries`

##### <a name="tmpdir"></a>`tmpdir`

Data type: `Any`

Temporary directory.

Default value: `$zabbix::params::server_tmpdir`

##### <a name="startproxypollers"></a>`startproxypollers`

Data type: `Any`

Number of pre-forked instances of pollers for passive proxies.

Default value: `$zabbix::params::server_startproxypollers`

##### <a name="proxyconfigfrequency"></a>`proxyconfigfrequency`

Data type: `Any`

How often zabbix server sends configuration data to a zabbix proxy in seconds.

Default value: `$zabbix::params::server_proxyconfigfrequency`

##### <a name="proxydatafrequency"></a>`proxydatafrequency`

Data type: `Any`

How often zabbix server requests history data from a zabbix proxy in seconds.

Default value: `$zabbix::params::server_proxydatafrequency`

##### <a name="allowroot"></a>`allowroot`

Data type: `Any`

Allow the server to run as 'root'.

Default value: `$zabbix::params::server_allowroot`

##### <a name="include_dir"></a>`include_dir`

Data type: `Any`

You may include individual files or all files in a directory in the configuration file.

Default value: `$zabbix::params::server_include`

##### <a name="loadmodulepath"></a>`loadmodulepath`

Data type: `Any`

Full path to location of server modules.

Default value: `$zabbix::params::server_loadmodulepath`

##### <a name="loadmodule"></a>`loadmodule`

Data type: `Any`

Module to load at server startup.

Default value: `$zabbix::params::server_loadmodule`

##### <a name="socketdir"></a>`socketdir`

Data type: `Optional[Stdlib::Absolutepath]`

IPC socket directory.
Directory to store IPC sockets used by internal Zabbix services.

Default value: `$zabbix::params::server_socketdir`

##### <a name="manage_selinux"></a>`manage_selinux`

Data type: `Boolean`

Whether we should manage SELinux rules.

Default value: `$zabbix::params::manage_selinux`

##### <a name="additional_service_params"></a>`additional_service_params`

Data type: `String`

Additional parameters to pass to the service.

Default value: `$zabbix::params::additional_service_params`

##### <a name="zabbix_user"></a>`zabbix_user`

Data type: `Optional[String[1]]`

User the zabbix service will run as.

Default value: `$zabbix::params::server_zabbix_user`

##### <a name="zabbix_server_name"></a>`zabbix_server_name`

Data type: `Optional[String]`

The fqdn name of the host running the zabbix-server. When single node:
localhost
This can also be used to upave a different name such as "Zabbix DEV"

Default value: `$zabbix::params::zabbix_server`

##### <a name="saml_sp_key"></a>`saml_sp_key`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Service Provider Key file.

Default value: `$zabbix::params::saml_sp_key`

##### <a name="saml_sp_cert"></a>`saml_sp_cert`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Service Provider Certificate.

Default value: `$zabbix::params::saml_sp_cert`

##### <a name="saml_idp_cert"></a>`saml_idp_cert`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Identity Provider Certificate.

Default value: `$zabbix::params::saml_idp_cert`

##### <a name="saml_settings"></a>`saml_settings`

Data type: `Hash[String[1], Variant[ScalarData, Hash]]`

A hash of additional SAML SSO settings.

Default value: `$zabbix::params::saml_settings`

### <a name="zabbixagent"></a>`zabbix::agent`

This will install and configure the zabbix-agent deamon

#### Examples

##### Basic installation:

```puppet
class { 'zabbix::agent':
  zabbix_version => '5.2',
  server         => '192.168.1.1',
}
```

##### With exported resources:

```puppet
class { 'zabbix::agent':
  manage_resources   => true,
  monitored_by_proxy => 'my_proxy_host',
  server             => '192.168.1.1',
}
```

#### Parameters

The following parameters are available in the `zabbix::agent` class:

* [`zabbix_version`](#zabbix_version)
* [`zabbix_package_state`](#zabbix_package_state)
* [`zabbix_package_agent`](#zabbix_package_agent)
* [`manage_firewall`](#manage_firewall)
* [`manage_repo`](#manage_repo)
* [`manage_choco`](#manage_choco)
* [`zabbix_package_provider`](#zabbix_package_provider)
* [`zabbix_package_source`](#zabbix_package_source)
* [`manage_resources`](#manage_resources)
* [`monitored_by_proxy`](#monitored_by_proxy)
* [`agent_use_ip`](#agent_use_ip)
* [`zbx_group`](#zbx_group)
* [`zbx_groups`](#zbx_groups)
* [`zbx_group_create`](#zbx_group_create)
* [`zbx_templates`](#zbx_templates)
* [`zbx_macros`](#zbx_macros)
* [`zbx_interface_type`](#zbx_interface_type)
* [`zbx_interface_details`](#zbx_interface_details)
* [`agent_configfile_path`](#agent_configfile_path)
* [`pidfile`](#pidfile)
* [`servicename`](#servicename)
* [`logfile`](#logfile)
* [`logfilesize`](#logfilesize)
* [`logtype`](#logtype)
* [`debuglevel`](#debuglevel)
* [`sourceip`](#sourceip)
* [`allowkey`](#allowkey)
* [`denykey`](#denykey)
* [`enableremotecommands`](#enableremotecommands)
* [`logremotecommands`](#logremotecommands)
* [`server`](#server)
* [`listenport`](#listenport)
* [`listenip`](#listenip)
* [`startagents`](#startagents)
* [`serveractive`](#serveractive)
* [`service_ensure`](#service_ensure)
* [`service_enable`](#service_enable)
* [`hostname`](#hostname)
* [`hostnameitem`](#hostnameitem)
* [`hostmetadata`](#hostmetadata)
* [`hostmetadataitem`](#hostmetadataitem)
* [`hostinterface`](#hostinterface)
* [`hostinterfaceitem`](#hostinterfaceitem)
* [`refreshactivechecks`](#refreshactivechecks)
* [`buffersend`](#buffersend)
* [`buffersize`](#buffersize)
* [`maxlinespersecond`](#maxlinespersecond)
* [`allowroot`](#allowroot)
* [`zabbix_user`](#zabbix_user)
* [`zabbix_alias`](#zabbix_alias)
* [`timeout`](#timeout)
* [`tlsaccept`](#tlsaccept)
* [`tlscafile`](#tlscafile)
* [`tlscertfile`](#tlscertfile)
* [`tlsconnect`](#tlsconnect)
* [`tlscrlfile`](#tlscrlfile)
* [`tlskeyfile`](#tlskeyfile)
* [`tlspskfile`](#tlspskfile)
* [`tlspskidentity`](#tlspskidentity)
* [`tlscipherall`](#tlscipherall)
* [`tlscipherall13`](#tlscipherall13)
* [`tlsciphercert`](#tlsciphercert)
* [`tlsciphercert13`](#tlsciphercert13)
* [`tlscipherpsk`](#tlscipherpsk)
* [`tlscipherpsk13`](#tlscipherpsk13)
* [`tlsservercertissuer`](#tlsservercertissuer)
* [`tlsservercertsubject`](#tlsservercertsubject)
* [`agent_config_owner`](#agent_config_owner)
* [`agent_config_group`](#agent_config_group)
* [`manage_selinux`](#manage_selinux)
* [`selinux_require`](#selinux_require)
* [`selinux_rules`](#selinux_rules)
* [`additional_service_params`](#additional_service_params)
* [`service_type`](#service_type)
* [`include_dir`](#include_dir)
* [`include_dir_purge`](#include_dir_purge)
* [`unsafeuserparameters`](#unsafeuserparameters)
* [`userparameter`](#userparameter)
* [`loadmodulepath`](#loadmodulepath)
* [`loadmodule`](#loadmodule)
* [`manage_startup_script`](#manage_startup_script)

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="zabbix_package_agent"></a>`zabbix_package_agent`

Data type: `Any`

The name of the agent package that we manage

Default value: `$zabbix::params::zabbix_package_agent`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`

When true, it will create iptables rules.

Default value: `$zabbix::params::manage_firewall`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`

When true, it will create repository for installing the agent.

Default value: `$zabbix::params::manage_repo`

##### <a name="manage_choco"></a>`manage_choco`

Data type: `Boolean`

When true on windows, it will use chocolatey to install the agent.
The module chocolatey is required https://forge.puppet.com/puppetlabs/chocolatey.

Default value: `$zabbix::params::manage_choco`

##### <a name="zabbix_package_provider"></a>`zabbix_package_provider`

Data type: `Optional[String[1]]`

Which package's provider to use to install the agent.
It is undef for all linux os and set to 'chocolatey' on windows.

Default value: `$zabbix::params::zabbix_package_provider`

##### <a name="zabbix_package_source"></a>`zabbix_package_source`

Data type: `Optional[Stdlib::Windowspath]`

Path to a Windows MSI file used to install the agent.

Default value: ``undef``

##### <a name="manage_resources"></a>`manage_resources`

Data type: `Boolean`

When true, it will export resources to something like puppetdb.
When set to true, you'll need to configure 'storeconfigs' to make
this happen. Default is set to false, as not everyone has this
enabled.

Default value: `$zabbix::params::manage_resources`

##### <a name="monitored_by_proxy"></a>`monitored_by_proxy`

Data type: `Any`

When this is monitored by an proxy, please fill in the name of this proxy.
If the proxy is also installed via this module, please fill in the FQDN

Default value: `$zabbix::params::monitored_by_proxy`

##### <a name="agent_use_ip"></a>`agent_use_ip`

Data type: `Any`

When true, when creating hosts via the zabbix-api, it will configure that
connection should me made via ip, not fqdn.

Default value: `$zabbix::params::agent_use_ip`

##### <a name="zbx_group"></a>`zbx_group`

Data type: `Any`

*Deprecated* (see zbx_groups) Name of the hostgroup where this host needs to be added.

Default value: `$zabbix::params::agent_zbx_group`

##### <a name="zbx_groups"></a>`zbx_groups`

Data type: `Variant[String[1],Array[String[1]]]`

An array of hostgroups where this host needs to be added.

Default value: `$zabbix::params::agent_zbx_groups`

##### <a name="zbx_group_create"></a>`zbx_group_create`

Data type: `Any`

Whether to create hostgroup if missing.

Default value: `$zabbix::params::agent_zbx_group_create`

##### <a name="zbx_templates"></a>`zbx_templates`

Data type: `Any`

List of templates which will be added when host is configured.

Default value: `$zabbix::params::agent_zbx_templates`

##### <a name="zbx_macros"></a>`zbx_macros`

Data type: `Array[Hash]`

List of macros which will be added when host is configured.

Default value: `[]`

##### <a name="zbx_interface_type"></a>`zbx_interface_type`

Data type: `Integer[1,4]`

Integer specifying type of interface to be created.

Default value: `1`

##### <a name="zbx_interface_details"></a>`zbx_interface_details`

Data type: `Variant[Array, Hash]`

Hash with interface details for SNMP when interface type is 2.

Default value: `[]`

##### <a name="agent_configfile_path"></a>`agent_configfile_path`

Data type: `Any`

Agent config file path defaults to /etc/zabbix/zabbix_agentd.conf.

Default value: `$zabbix::params::agent_configfile_path`

##### <a name="pidfile"></a>`pidfile`

Data type: `Any`

Name of pid file.

Default value: `$zabbix::params::agent_pidfile`

##### <a name="servicename"></a>`servicename`

Data type: `Any`

Zabbix's agent service name.

Default value: `$zabbix::params::agent_servicename`

##### <a name="logfile"></a>`logfile`

Data type: `Optional[Stdlib::Absolutepath]`

Name of log file.

Default value: `$zabbix::params::agent_logfile`

##### <a name="logfilesize"></a>`logfilesize`

Data type: `Any`

Maximum size of log file in MB.

Default value: `$zabbix::params::agent_logfilesize`

##### <a name="logtype"></a>`logtype`

Data type: `Enum['console', 'file', 'system']`

Specifies where log messages are written to. Can be one of: console, file, system.

Default value: `$zabbix::params::agent_logtype`

##### <a name="debuglevel"></a>`debuglevel`

Data type: `Any`

Specifies debug level.

Default value: `$zabbix::params::agent_debuglevel`

##### <a name="sourceip"></a>`sourceip`

Data type: `Any`

Source ip address for outgoing connections.

Default value: `$zabbix::params::agent_sourceip`

##### <a name="allowkey"></a>`allowkey`

Data type: `Optional[String[1]]`

Allow execution of item keys matching pattern.

Default value: `$zabbix::params::agent_allowkey`

##### <a name="denykey"></a>`denykey`

Data type: `Optional[String[1]]`

Deny execution of items keys matching pattern.

Default value: `$zabbix::params::agent_denykey`

##### <a name="enableremotecommands"></a>`enableremotecommands`

Data type: `Any`

Whether remote commands from zabbix server are allowed.

Default value: `$zabbix::params::agent_enableremotecommands`

##### <a name="logremotecommands"></a>`logremotecommands`

Data type: `Any`

Enable logging of executed shell commands as warnings.

Default value: `$zabbix::params::agent_logremotecommands`

##### <a name="server"></a>`server`

Data type: `Any`

List of comma delimited ip addresses (or hostnames) of zabbix servers.

Default value: `$zabbix::params::agent_server`

##### <a name="listenport"></a>`listenport`

Data type: `Any`

Agent will listen on this port for connections from the server.

Default value: `$zabbix::params::agent_listenport`

##### <a name="listenip"></a>`listenip`

Data type: `Any`

List of comma delimited ip addresses that the agent should listen on.
You can also specify which network interface it should listen on.

listenip => 'eth0',  or
listenip => 'bond0.73',

It will find out which ip is configured for this ipaddress. Can be handy
if more than 1 interface is on the server.

Default value: `$zabbix::params::agent_listenip`

##### <a name="startagents"></a>`startagents`

Data type: `Any`

Number of pre-forked instances of zabbix_agentd that process passive checks.

Default value: `$zabbix::params::agent_startagents`

##### <a name="serveractive"></a>`serveractive`

Data type: `Any`

List of comma delimited ip:port (or hostname:port) pairs of zabbix servers for active checks.

Default value: `$zabbix::params::agent_serveractive`

##### <a name="service_ensure"></a>`service_ensure`

Data type: `Stdlib::Ensure::Service`

Start / stop the agent service. E.g. to preconfigure a hosts agent and turn on the service at a later time (when the server reaches production SLA)

Default value: `$zabbix::params::agent_service_ensure`

##### <a name="service_enable"></a>`service_enable`

Data type: `Boolean`

Automatically start the agent on system boot

Default value: `$zabbix::params::agent_service_enable`

##### <a name="hostname"></a>`hostname`

Data type: `Any`

Unique, case sensitive hostname.

Default value: `$zabbix::params::agent_hostname`

##### <a name="hostnameitem"></a>`hostnameitem`

Data type: `Any`

Zabbix item used for generating hostname if it is undefined.

Default value: `$zabbix::params::agent_hostnameitem`

##### <a name="hostmetadata"></a>`hostmetadata`

Data type: `Any`

Optional parameter that defines host metadata.

Default value: `$zabbix::params::agent_hostmetadata`

##### <a name="hostmetadataitem"></a>`hostmetadataitem`

Data type: `Any`

Optional parameter that defines a zabbix item used for getting host metadata.

Default value: `$zabbix::params::agent_hostmetadataitem`

##### <a name="hostinterface"></a>`hostinterface`

Data type: `Optional[Stdlib::Fqdn]`

Optional parameter that defines host metadata. Host metadata is used only at host
auto-registration process (active agent).

Default value: `$zabbix::params::agent_hostinterface`

##### <a name="hostinterfaceitem"></a>`hostinterfaceitem`

Data type: `Optional[Stdlib::Fqdn]`

Optional parameter that defines an item used for getting host interface.
Host interface is used at host auto-registration process.

Default value: `$zabbix::params::agent_hostinterfaceitem`

##### <a name="refreshactivechecks"></a>`refreshactivechecks`

Data type: `Any`

How often list of active checks is refreshed, in seconds.

Default value: `$zabbix::params::agent_refreshactivechecks`

##### <a name="buffersend"></a>`buffersend`

Data type: `Any`

Do not keep data longer than n seconds in buffer.

Default value: `$zabbix::params::agent_buffersend`

##### <a name="buffersize"></a>`buffersize`

Data type: `Any`

Maximum number of values in a memory buffer.

Default value: `$zabbix::params::agent_buffersize`

##### <a name="maxlinespersecond"></a>`maxlinespersecond`

Data type: `Any`

Maximum number of new lines the agent will send per second to zabbix server or proxy processing.

Default value: `$zabbix::params::agent_maxlinespersecond`

##### <a name="allowroot"></a>`allowroot`

Data type: `Any`

Allow the agent to run as 'root'.

Default value: `$zabbix::params::agent_allowroot`

##### <a name="zabbix_user"></a>`zabbix_user`

Data type: `Optional[String[1]]`

Drop privileges to a specific, existing user on the system. Only has effect if run as 'root' and AllowRoot is disabled.

Default value: `$zabbix::params::agent_zabbix_user`

##### <a name="zabbix_alias"></a>`zabbix_alias`

Data type: `Optional[Array]`

Sets an alias for parameter.

Default value: `$zabbix::params::agent_zabbix_alias`

##### <a name="timeout"></a>`timeout`

Data type: `Any`

Spend no more than timeout seconds on processing.

Default value: `$zabbix::params::agent_timeout`

##### <a name="tlsaccept"></a>`tlsaccept`

Data type: `Any`

What incoming connections to accept from Zabbix server. Used for a passive proxy, ignored on an active proxy.

Default value: `$zabbix::params::agent_tlsaccept`

##### <a name="tlscafile"></a>`tlscafile`

Data type: `Any`

Full pathname of a file containing the top-level CA(s) certificates for peer certificate verification.

Default value: `$zabbix::params::agent_tlscafile`

##### <a name="tlscertfile"></a>`tlscertfile`

Data type: `Any`

Full pathname of a file containing the proxy certificate or certificate chain.

Default value: `$zabbix::params::agent_tlscertfile`

##### <a name="tlsconnect"></a>`tlsconnect`

Data type: `Any`

How the proxy should connect to Zabbix server. Used for an active proxy, ignored on a passive proxy.

Default value: `$zabbix::params::agent_tlsconnect`

##### <a name="tlscrlfile"></a>`tlscrlfile`

Data type: `Any`

Full pathname of a file containing revoked certificates.

Default value: `$zabbix::params::agent_tlscrlfile`

##### <a name="tlskeyfile"></a>`tlskeyfile`

Data type: `Any`

Full pathname of a file containing the proxy private key.

Default value: `$zabbix::params::agent_tlskeyfile`

##### <a name="tlspskfile"></a>`tlspskfile`

Data type: `Any`

Full pathname of a file containing the pre-shared key.

Default value: `$zabbix::params::agent_tlspskfile`

##### <a name="tlspskidentity"></a>`tlspskidentity`

Data type: `Any`

Unique, case sensitive string used to identify the pre-shared key.

Default value: `$zabbix::params::agent_tlspskidentity`

##### <a name="tlscipherall"></a>`tlscipherall`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::agent_tlscipherall`

##### <a name="tlscipherall13"></a>`tlscipherall13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::agent_tlscipherall13`

##### <a name="tlsciphercert"></a>`tlsciphercert`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::agent_tlsciphercert`

##### <a name="tlsciphercert13"></a>`tlsciphercert13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::agent_tlsciphercert13`

##### <a name="tlscipherpsk"></a>`tlscipherpsk`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::agent_tlscipherpsk`

##### <a name="tlscipherpsk13"></a>`tlscipherpsk13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::agent_tlscipherpsk13`

##### <a name="tlsservercertissuer"></a>`tlsservercertissuer`

Data type: `Any`

Allowed server certificate issuer.

Default value: `$zabbix::params::agent_tlsservercertissuer`

##### <a name="tlsservercertsubject"></a>`tlsservercertsubject`

Data type: `Any`

Allowed server certificate subject.

Default value: `$zabbix::params::agent_tlsservercertsubject`

##### <a name="agent_config_owner"></a>`agent_config_owner`

Data type: `Optional[String[1]]`

The owner of Zabbix's agent config file.

Default value: `$zabbix::params::agent_config_owner`

##### <a name="agent_config_group"></a>`agent_config_group`

Data type: `Optional[String[1]]`

The group of Zabbix's agent config file.

Default value: `$zabbix::params::agent_config_group`

##### <a name="manage_selinux"></a>`manage_selinux`

Data type: `Boolean`

Whether the module should manage SELinux rules or not.

Default value: `$zabbix::params::manage_selinux`

##### <a name="selinux_require"></a>`selinux_require`

Data type: `Array[String]`

An array of SELinux require {} rules.

Default value: `$zabbix::params::selinux_require`

##### <a name="selinux_rules"></a>`selinux_rules`

Data type: `Hash[String, Array]`

A Hash of SELinux rules.

Default value: `$zabbix::params::selinux_rules`

##### <a name="additional_service_params"></a>`additional_service_params`

Data type: `String`

Additional parameters to pass to the service.

Default value: `$zabbix::params::additional_service_params`

##### <a name="service_type"></a>`service_type`

Data type: `String`

Systemd service type

Default value: `$zabbix::params::service_type`

##### <a name="include_dir"></a>`include_dir`

Data type: `Any`

You may include individual files or all files in a directory in the configuration file.

Default value: `$zabbix::params::agent_include`

##### <a name="include_dir_purge"></a>`include_dir_purge`

Data type: `Any`

Include dir to purge.

Default value: `$zabbix::params::agent_include_purge`

##### <a name="unsafeuserparameters"></a>`unsafeuserparameters`

Data type: `Any`

Allow all characters to be passed in arguments to user-defined parameters.

Default value: `$zabbix::params::agent_unsafeuserparameters`

##### <a name="userparameter"></a>`userparameter`

Data type: `Any`

User-defined parameter to monitor.

Default value: `$zabbix::params::agent_userparameter`

##### <a name="loadmodulepath"></a>`loadmodulepath`

Data type: `Optional[String[1]]`

Full path to location of agent modules.

Default value: `$zabbix::params::agent_loadmodulepath`

##### <a name="loadmodule"></a>`loadmodule`

Data type: `Any`

Module to load at agent startup.

Default value: `$zabbix::params::agent_loadmodule`

##### <a name="manage_startup_script"></a>`manage_startup_script`

Data type: `Boolean`

If the init script should be managed by this module. Attention: This might
cause problems with some config options of this module (e.g
agent_configfile_path)

Default value: `$zabbix::params::manage_startup_script`

### <a name="zabbixdatabase"></a>`zabbix::database`

This will install the correct database and one or more users for correct usage

#### Examples

##### The following is an example of an multiple host setup:

```puppet
node 'wdpuppet04.dj-wasabi.local' {
  #  class { 'postgresql::server':
  #    listen_addresses => '192.168.20.14'
  #  }
  class { 'mysql::server':
    override_options => {
      'mysqld'       => {
        'bind_address' => '192.168.20.14',
      },
    },
  }
  class { 'zabbix::database':
    database_type     => 'mysql',
    #zabbix_front_ip  => '192.168.20.12',
    #zabbix_server_ip => '192.168.20.13',
    zabbix_server     => 'wdpuppet03.dj-wasabi.local',
    zabbix_web        => 'wdpuppet02.dj-wasabi.local',
  }
}

The above example is when database_type = mysql. When you want to
use the postgresql as database, uncomment the lines of postgresql
class and both *_ip parameters. Comment the mysql class and comment
the zabbix_server and zabbix_web parameter.
```

#### Parameters

The following parameters are available in the `zabbix::database` class:

* [`zabbix_type`](#zabbix_type)
* [`zabbix_web`](#zabbix_web)
* [`zabbix_web_ip`](#zabbix_web_ip)
* [`zabbix_server`](#zabbix_server)
* [`zabbix_server_ip`](#zabbix_server_ip)
* [`zabbix_proxy`](#zabbix_proxy)
* [`zabbix_proxy_ip`](#zabbix_proxy_ip)
* [`manage_database`](#manage_database)
* [`database_type`](#database_type)
* [`database_schema_path`](#database_schema_path)
* [`database_name`](#database_name)
* [`database_user`](#database_user)
* [`database_password`](#database_password)
* [`database_host`](#database_host)
* [`database_host_ip`](#database_host_ip)
* [`database_charset`](#database_charset)
* [`database_collate`](#database_collate)
* [`database_tablespace`](#database_tablespace)

##### <a name="zabbix_type"></a>`zabbix_type`

Data type: `Any`

The type of zabbix which is used: server or proxy.
This will determine what sql files will be loaded into database.

Default value: `'server'`

##### <a name="zabbix_web"></a>`zabbix_web`

Data type: `Any`

This is the hostname of the server which is running the
zabbix-web package. This parameter is used when database_type =
mysql. When single node: localhost

Default value: `$zabbix::params::zabbix_web`

##### <a name="zabbix_web_ip"></a>`zabbix_web_ip`

Data type: `Any`

This is the ip address of the server which is running the
zabbix-web package. This parameter is used when database_type =
postgresql. When single node: 127.0.0.1

Default value: `$zabbix::params::zabbix_web_ip`

##### <a name="zabbix_server"></a>`zabbix_server`

Data type: `Any`

This is the FQDN for the host running zabbix-server. This parameter
is used when database_type = mysql. Default: localhost

Default value: `$zabbix::params::zabbix_server`

##### <a name="zabbix_server_ip"></a>`zabbix_server_ip`

Data type: `Any`

This is the actual ip address of the host running zabbix-server
This parameter is used when database_type = postgresql. Default:
127.0.0.1

Default value: `$zabbix::params::zabbix_server_ip`

##### <a name="zabbix_proxy"></a>`zabbix_proxy`

Data type: `Any`

This is the FQDN for the host running zabbix-proxy. This parameter
is used when database_type = mysql. Default: localhost

Default value: `$zabbix::params::zabbix_proxy`

##### <a name="zabbix_proxy_ip"></a>`zabbix_proxy_ip`

Data type: `Any`

This is the actual ip address of the host running zabbix-proxy
This parameter is used when database_type = postgresql. Default:
127.0.0.1

Default value: `$zabbix::params::zabbix_proxy_ip`

##### <a name="manage_database"></a>`manage_database`

Data type: `Any`

When set to true, it will create the database and will load
the sql files for basic setup. Otherwise you should do this manually.

Default value: `$zabbix::params::manage_database`

##### <a name="database_type"></a>`database_type`

Data type: `Zabbix::Databases`

The database which is used: postgresql or mysql

Default value: `$zabbix::params::database_type`

##### <a name="database_schema_path"></a>`database_schema_path`

Data type: `Any`

The path to the directory containing the .sql schema files

Default value: `$zabbix::params::database_schema_path`

##### <a name="database_name"></a>`database_name`

Data type: `Any`

The name of the database. Default: zabbix-server

Default value: `$zabbix::params::server_database_name`

##### <a name="database_user"></a>`database_user`

Data type: `Any`

The user which is used for connecting to the database

Default value: `$zabbix::params::server_database_user`

##### <a name="database_password"></a>`database_password`

Data type: `Any`

The password of the database_user.

Default value: `$zabbix::params::server_database_password`

##### <a name="database_host"></a>`database_host`

Data type: `Any`

The hostname of the server running the database.

Default value: `$zabbix::params::server_database_host`

##### <a name="database_host_ip"></a>`database_host_ip`

Data type: `Any`

IP of the machine the database runs on.

Default value: `$zabbix::params::server_database_host_ip`

##### <a name="database_charset"></a>`database_charset`

Data type: `Any`

The default charset of the database.

Default value: `$zabbix::params::server_database_charset`

##### <a name="database_collate"></a>`database_collate`

Data type: `Any`

The default collation of the database.

Default value: `$zabbix::params::server_database_collate`

##### <a name="database_tablespace"></a>`database_tablespace`

Data type: `Optional[String[1]]`

The tablespace the database will be created in. This setting only affects PostgreSQL databases.

Default value: `$zabbix::params::server_database_tablespace`

### <a name="zabbixdatabasesqlite"></a>`zabbix::database::sqlite`

Class to handle sqlite database installations zabbix will automatically create a sqlite schema if one does not already exist.

### <a name="zabbixjavagateway"></a>`zabbix::javagateway`

This will install and configure the zabbix-agent deamon

#### Examples

##### 

```puppet
class { 'zabbix::javagateway':
  zabbix_version => '5.2',
}
```

#### Parameters

The following parameters are available in the `zabbix::javagateway` class:

* [`zabbix_version`](#zabbix_version)
* [`zabbix_package_state`](#zabbix_package_state)
* [`manage_firewall`](#manage_firewall)
* [`manage_repo`](#manage_repo)
* [`pidfile`](#pidfile)
* [`listenip`](#listenip)
* [`listenport`](#listenport)
* [`startpollers`](#startpollers)
* [`timeout`](#timeout)

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`

When true, it will create iptables rules.

Default value: `$zabbix::params::manage_firewall`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`

When true, it will create repository for installing the javagateway.

Default value: `$zabbix::params::manage_repo`

##### <a name="pidfile"></a>`pidfile`

Data type: `Any`

Name of pid file.

Default value: `$zabbix::params::javagateway_pidfile`

##### <a name="listenip"></a>`listenip`

Data type: `Any`

List of comma delimited ip addresses that the agent should listen on.

Default value: `$zabbix::params::javagateway_listenip`

##### <a name="listenport"></a>`listenport`

Data type: `Any`

Agent will listen on this port for connections from the server.

Default value: `$zabbix::params::javagateway_listenport`

##### <a name="startpollers"></a>`startpollers`

Data type: `Any`

Number of worker threads to start.

Default value: `$zabbix::params::javagateway_startpollers`

##### <a name="timeout"></a>`timeout`

Data type: `Any`

Number of worker threads to start.

Default value: `$zabbix::params::javagateway_timeout`

### <a name="zabbixparams"></a>`zabbix::params`

This class manages zabbix server parameters

### <a name="zabbixproxy"></a>`zabbix::proxy`

This will install and configure the zabbix-proxy deamon

#### Examples

##### When you want to run everything on one machine, you can use the following:

```puppet
class { 'zabbix::proxy':
  zabbix_server_host => '192.168.1.1',
  zabbix_server_port => '10051',
}
```

##### When you want to use mysql:

```puppet
class { 'zabbix::proxy':
  zabbix_server_host => '192.168.1.1',
  zabbix_server_port => '10051',
  database_type      => 'mysql',
}
```

##### The following is an example of running the proxy on 2 servers:

```puppet
node 'wdpuppet03.dj-wasabi.local' {
  #class { 'postgresql::client': }
  class { 'mysql::client': }
  class { 'zabbix::proxy':
    zabbix_server_host => '192.168.1.1',
    manage_database    => false,
    database_host      => 'wdpuppet04.dj-wasabi.local',
    database_type      => 'mysql',
  }
}

node 'wdpuppet04.dj-wasabi.local' {
  #class { 'postgresql::server':
  #    listen_addresses => '192.168.20.14'
  #  }
    class { 'mysql::server':
      override_options => {
        'mysqld'       => {
          'bind_address' => '192.168.20.14',
        },
      },
    }
  class { 'zabbix::database':
    database_type     => 'mysql',
    zabbix_type       => 'proxy',
    #zabbix_proxy_ip   => '192.168.20.13',
    zabbix_proxy      => 'wdpuppet03.dj-wasabi.local',
    database_name     => 'zabbix-proxy',
    database_user     => 'zabbix-proxy',
    database_password => 'zabbix-proxy',
  }
}
```

#### Parameters

The following parameters are available in the `zabbix::proxy` class:

* [`database_type`](#database_type)
* [`database_path`](#database_path)
* [`zabbix_version`](#zabbix_version)
* [`zabbix_package_state`](#zabbix_package_state)
* [`manage_database`](#manage_database)
* [`manage_firewall`](#manage_firewall)
* [`manage_repo`](#manage_repo)
* [`manage_resources`](#manage_resources)
* [`manage_service`](#manage_service)
* [`zabbix_proxy`](#zabbix_proxy)
* [`zabbix_proxy_ip`](#zabbix_proxy_ip)
* [`use_ip`](#use_ip)
* [`zbx_templates`](#zbx_templates)
* [`proxy_configfile_path`](#proxy_configfile_path)
* [`proxy_service_name`](#proxy_service_name)
* [`mode`](#mode)
* [`zabbix_server_host`](#zabbix_server_host)
* [`zabbix_server_port`](#zabbix_server_port)
* [`hostname`](#hostname)
* [`listenport`](#listenport)
* [`sourceip`](#sourceip)
* [`enableremotecommands`](#enableremotecommands)
* [`logremotecommands`](#logremotecommands)
* [`logfile`](#logfile)
* [`logfilesize`](#logfilesize)
* [`logtype`](#logtype)
* [`debuglevel`](#debuglevel)
* [`pidfile`](#pidfile)
* [`database_schema_path`](#database_schema_path)
* [`database_host`](#database_host)
* [`database_name`](#database_name)
* [`database_schema`](#database_schema)
* [`database_user`](#database_user)
* [`database_password`](#database_password)
* [`database_socket`](#database_socket)
* [`database_port`](#database_port)
* [`database_tlsconnect`](#database_tlsconnect)
* [`database_tlscafile`](#database_tlscafile)
* [`database_tlscertfile`](#database_tlscertfile)
* [`database_tlskeyfile`](#database_tlskeyfile)
* [`database_tlscipher`](#database_tlscipher)
* [`database_tlscipher13`](#database_tlscipher13)
* [`localbuffer`](#localbuffer)
* [`offlinebuffer`](#offlinebuffer)
* [`heartbeatfrequency`](#heartbeatfrequency)
* [`configfrequency`](#configfrequency)
* [`datasenderfrequency`](#datasenderfrequency)
* [`startpollers`](#startpollers)
* [`startpreprocessors`](#startpreprocessors)
* [`startipmipollers`](#startipmipollers)
* [`startpollersunreachable`](#startpollersunreachable)
* [`starttrappers`](#starttrappers)
* [`startpingers`](#startpingers)
* [`startdiscoverers`](#startdiscoverers)
* [`starthttppollers`](#starthttppollers)
* [`javagateway`](#javagateway)
* [`javagatewayport`](#javagatewayport)
* [`startjavapollers`](#startjavapollers)
* [`startvmwarecollectors`](#startvmwarecollectors)
* [`vmwarefrequency`](#vmwarefrequency)
* [`vmwareperffrequency`](#vmwareperffrequency)
* [`vmwaretimeout`](#vmwaretimeout)
* [`vmwarecachesize`](#vmwarecachesize)
* [`vaultdbpath`](#vaultdbpath)
* [`vaulttoken`](#vaulttoken)
* [`vaulturl`](#vaulturl)
* [`snmptrapperfile`](#snmptrapperfile)
* [`snmptrapper`](#snmptrapper)
* [`listenip`](#listenip)
* [`housekeepingfrequency`](#housekeepingfrequency)
* [`cachesize`](#cachesize)
* [`startdbsyncers`](#startdbsyncers)
* [`historycachesize`](#historycachesize)
* [`historyindexcachesize`](#historyindexcachesize)
* [`historytextcachesize`](#historytextcachesize)
* [`timeout`](#timeout)
* [`tlsaccept`](#tlsaccept)
* [`tlscafile`](#tlscafile)
* [`tlscertfile`](#tlscertfile)
* [`tlsconnect`](#tlsconnect)
* [`tlscrlfile`](#tlscrlfile)
* [`tlskeyfile`](#tlskeyfile)
* [`tlspskfile`](#tlspskfile)
* [`tlspskidentity`](#tlspskidentity)
* [`tlscipherall`](#tlscipherall)
* [`tlscipherall13`](#tlscipherall13)
* [`tlsciphercert`](#tlsciphercert)
* [`tlsciphercert13`](#tlsciphercert13)
* [`tlscipherpsk`](#tlscipherpsk)
* [`tlscipherpsk13`](#tlscipherpsk13)
* [`tlsservercertissuer`](#tlsservercertissuer)
* [`tlsservercertsubject`](#tlsservercertsubject)
* [`trappertimeout`](#trappertimeout)
* [`unreachableperiod`](#unreachableperiod)
* [`unavaliabledelay`](#unavaliabledelay)
* [`unreachabedelay`](#unreachabedelay)
* [`externalscripts`](#externalscripts)
* [`fpinglocation`](#fpinglocation)
* [`fping6location`](#fping6location)
* [`sshkeylocation`](#sshkeylocation)
* [`sslcalocation_dir`](#sslcalocation_dir)
* [`sslcertlocation_dir`](#sslcertlocation_dir)
* [`sslkeylocation_dir`](#sslkeylocation_dir)
* [`logslowqueries`](#logslowqueries)
* [`tmpdir`](#tmpdir)
* [`allowroot`](#allowroot)
* [`include_dir`](#include_dir)
* [`loadmodulepath`](#loadmodulepath)
* [`loadmodule`](#loadmodule)
* [`manage_selinux`](#manage_selinux)
* [`socketdir`](#socketdir)

##### <a name="database_type"></a>`database_type`

Data type: `Zabbix::Databases`

Type of database. Can use the following 3 databases: postgresql, mysql, sqlite

Default value: `$zabbix::params::database_type`

##### <a name="database_path"></a>`database_path`

Data type: `Any`

When database binaries are not found on the default path:
/bin:/usr/bin:/usr/local/sbin:/usr/local/bin
you can use this parameter to add the database_path to the above mentiond
path.

Default value: `$zabbix::params::database_path`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="manage_database"></a>`manage_database`

Data type: `Boolean`

When true, it will configure the database and execute the sql scripts.

Default value: `$zabbix::params::manage_database`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`

When true, it will create iptables rules.

Default value: `$zabbix::params::manage_firewall`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`

When true, it will create repository for installing the proxy.

Default value: `$zabbix::params::manage_repo`

##### <a name="manage_resources"></a>`manage_resources`

Data type: `Boolean`

When true, it will export resources so that the zabbix-server can create via the zabbix-api proxy.

Default value: `$zabbix::params::manage_resources`

##### <a name="manage_service"></a>`manage_service`

Data type: `Boolean`

When true, it will ensure service running and enabled.
When false, it does not care about service

Default value: `$zabbix::params::manage_service`

##### <a name="zabbix_proxy"></a>`zabbix_proxy`

Data type: `Any`

Hostname of zabbix proxy.

Default value: `$zabbix::params::zabbix_proxy`

##### <a name="zabbix_proxy_ip"></a>`zabbix_proxy_ip`

Data type: `Any`

IP of zabbix proxy.

Default value: `$zabbix::params::zabbix_proxy_ip`

##### <a name="use_ip"></a>`use_ip`

Data type: `Any`

When true, when creating proxies via the zabbix-api, it will configure that
connection should me made via ip, not fqdn.

Default value: `$zabbix::params::proxy_use_ip`

##### <a name="zbx_templates"></a>`zbx_templates`

Data type: `Any`

Template which will be added when proxy is configured.

Default value: `$zabbix::params::proxy_zbx_templates`

##### <a name="proxy_configfile_path"></a>`proxy_configfile_path`

Data type: `Any`

Proxy config file path defaults to /etc/zabbix/zabbix_proxy.conf

Default value: `$zabbix::params::proxy_configfile_path`

##### <a name="proxy_service_name"></a>`proxy_service_name`

Data type: `Any`

The service name of Zabbix proxy.

Default value: `$zabbix::params::proxy_service_name`

##### <a name="mode"></a>`mode`

Data type: `Any`

Proxy operating mode.

Default value: `$zabbix::params::proxy_mode`

##### <a name="zabbix_server_host"></a>`zabbix_server_host`

Data type: `Any`

Hostname or the ipaddress of the zabbix-server.

Default value: `$zabbix::params::proxy_zabbix_server_host`

##### <a name="zabbix_server_port"></a>`zabbix_server_port`

Data type: `Any`

Port on which the server is listening.

Default value: `$zabbix::params::proxy_zabbix_server_port`

##### <a name="hostname"></a>`hostname`

Data type: `Any`

Hostname for the proxy. Default is $::fqdn or this parameter.

Default value: `$zabbix::params::proxy_hostname`

##### <a name="listenport"></a>`listenport`

Data type: `Any`

Listen port for trapper.

Default value: `$zabbix::params::proxy_listenport`

##### <a name="sourceip"></a>`sourceip`

Data type: `Any`

Source ip address for outgoing connections.

Default value: `$zabbix::params::proxy_sourceip`

##### <a name="enableremotecommands"></a>`enableremotecommands`

Data type: `Integer[0]`

Whether remote commands from zabbix server are allowed.

Default value: `$zabbix::params::proxy_enableremotecommands`

##### <a name="logremotecommands"></a>`logremotecommands`

Data type: `Integer[0]`

Enable logging of executed shell commands as warnings.

Default value: `$zabbix::params::proxy_logremotecommands`

##### <a name="logfile"></a>`logfile`

Data type: `Optional[Stdlib::Absolutepath]`

Name of log file.

Default value: `$zabbix::params::proxy_logfile`

##### <a name="logfilesize"></a>`logfilesize`

Data type: `Any`

Maximum size of log file in MB.

Default value: `$zabbix::params::proxy_logfilesize`

##### <a name="logtype"></a>`logtype`

Data type: `Enum['console', 'file', 'system']`

Specifies where log messages are written to. Can be one of: console, file, system

Default value: `$zabbix::params::proxy_logtype`

##### <a name="debuglevel"></a>`debuglevel`

Data type: `Any`

Specifies debug level.

Default value: `$zabbix::params::proxy_debuglevel`

##### <a name="pidfile"></a>`pidfile`

Data type: `Any`

Name of pid file.

Default value: `$zabbix::params::proxy_pidfile`

##### <a name="database_schema_path"></a>`database_schema_path`

Data type: `Any`

The path to the directory containing the .sql schema files

Default value: `$zabbix::params::database_schema_path`

##### <a name="database_host"></a>`database_host`

Data type: `Any`

Database host name.

Default value: `$zabbix::params::proxy_database_host`

##### <a name="database_name"></a>`database_name`

Data type: `Any`

Database name.

Default value: `$zabbix::params::proxy_database_name`

##### <a name="database_schema"></a>`database_schema`

Data type: `Any`

Schema name. used for ibm db2.

Default value: `$zabbix::params::proxy_database_schema`

##### <a name="database_user"></a>`database_user`

Data type: `Any`

Database user. ignored for sqlite.

Default value: `$zabbix::params::proxy_database_user`

##### <a name="database_password"></a>`database_password`

Data type: `Any`

Database password. ignored for sqlite.

Default value: `$zabbix::params::proxy_database_password`

##### <a name="database_socket"></a>`database_socket`

Data type: `Any`

Path to mysql socket.

Default value: `$zabbix::params::proxy_database_socket`

##### <a name="database_port"></a>`database_port`

Data type: `Any`

Database port when not using local socket. Ignored for sqlite.

Default value: `$zabbix::params::proxy_database_port`

##### <a name="database_tlsconnect"></a>`database_tlsconnect`

Data type: `Optional[Enum['required', 'verify_ca', 'verify_full']]`

Available options:
* required - connect using TLS
* verify_ca - connect using TLS and verify certificate
* verify_full - connect using TLS, verify certificate and verify that database identity specified by DBHost matches its certificate

Default value: `$zabbix::params::proxy_database_tlsconnect`

##### <a name="database_tlscafile"></a>`database_tlscafile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of a file containing the top-level CA(s) certificates for database certificate verification.

Default value: `$zabbix::params::proxy_database_tlscafile`

##### <a name="database_tlscertfile"></a>`database_tlscertfile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of file containing Zabbix server certificate for authenticating to database.

Default value: `$zabbix::params::proxy_database_tlscertfile`

##### <a name="database_tlskeyfile"></a>`database_tlskeyfile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of file containing the private key for authenticating to database.

Default value: `$zabbix::params::proxy_database_tlskeyfile`

##### <a name="database_tlscipher"></a>`database_tlscipher`

Data type: `Optional[String[1]]`

The list of encryption ciphers that Zabbix server permits for TLS protocols up through TLSv1.2.

Default value: `$zabbix::params::proxy_database_tlscipher`

##### <a name="database_tlscipher13"></a>`database_tlscipher13`

Data type: `Optional[String[1]]`

The list of encryption ciphersuites that Zabbix server permits for TLSv1.3 protocol.

Default value: `$zabbix::params::proxy_database_tlscipher13`

##### <a name="localbuffer"></a>`localbuffer`

Data type: `Any`

Proxy will keep data locally for N hours, even if the data have already been synced with the server

Default value: `$zabbix::params::proxy_localbuffer`

##### <a name="offlinebuffer"></a>`offlinebuffer`

Data type: `Any`

Proxy will keep data for N hours in case if no connectivity with Zabbix Server

Default value: `$zabbix::params::proxy_offlinebuffer`

##### <a name="heartbeatfrequency"></a>`heartbeatfrequency`

Data type: `Any`

Unique nodeid in distributed setup.

Default value: `$zabbix::params::proxy_heartbeatfrequency`

##### <a name="configfrequency"></a>`configfrequency`

Data type: `Any`

How often proxy retrieves configuration data from Zabbix Server in seconds.

Default value: `$zabbix::params::proxy_configfrequency`

##### <a name="datasenderfrequency"></a>`datasenderfrequency`

Data type: `Any`

Proxy will send collected data to the Server every N seconds.

Default value: `$zabbix::params::proxy_datasenderfrequency`

##### <a name="startpollers"></a>`startpollers`

Data type: `Any`

Number of pre-forked instances of pollers.

Default value: `$zabbix::params::proxy_startpollers`

##### <a name="startpreprocessors"></a>`startpreprocessors`

Data type: `Integer[1, 1000]`

Number of pre-forked instances of preprocessing workers

Default value: `$zabbix::params::proxy_startpreprocessors`

##### <a name="startipmipollers"></a>`startipmipollers`

Data type: `Any`

Number of pre-forked instances of ipmi pollers.

Default value: `$zabbix::params::proxy_startipmipollers`

##### <a name="startpollersunreachable"></a>`startpollersunreachable`

Data type: `Any`

Number of pre-forked instances of pollers for unreachable hosts (including ipmi).

Default value: `$zabbix::params::proxy_startpollersunreachable`

##### <a name="starttrappers"></a>`starttrappers`

Data type: `Any`

Number of pre-forked instances of trappers.

Default value: `$zabbix::params::proxy_starttrappers`

##### <a name="startpingers"></a>`startpingers`

Data type: `Any`

Number of pre-forked instances of icmp pingers.

Default value: `$zabbix::params::proxy_startpingers`

##### <a name="startdiscoverers"></a>`startdiscoverers`

Data type: `Any`

Number of pre-forked instances of discoverers.

Default value: `$zabbix::params::proxy_startdiscoverers`

##### <a name="starthttppollers"></a>`starthttppollers`

Data type: `Any`

Number of pre-forked instances of http pollers.

Default value: `$zabbix::params::proxy_starthttppollers`

##### <a name="javagateway"></a>`javagateway`

Data type: `Any`

IP address (or hostname) of zabbix java gateway.

Default value: `$zabbix::params::proxy_javagateway`

##### <a name="javagatewayport"></a>`javagatewayport`

Data type: `Any`

Port that zabbix java gateway listens on.

Default value: `$zabbix::params::proxy_javagatewayport`

##### <a name="startjavapollers"></a>`startjavapollers`

Data type: `Any`

Number of pre-forked instances of java pollers.

Default value: `$zabbix::params::proxy_startjavapollers`

##### <a name="startvmwarecollectors"></a>`startvmwarecollectors`

Data type: `Any`

Number of pre-forked vmware collector instances.

Default value: `$zabbix::params::proxy_startvmwarecollectors`

##### <a name="vmwarefrequency"></a>`vmwarefrequency`

Data type: `Any`

How often zabbix will connect to vmware service to obtain a new datan.

Default value: `$zabbix::params::proxy_vmwarefrequency`

##### <a name="vmwareperffrequency"></a>`vmwareperffrequency`

Data type: `Any`

Delay in seconds between performance counter statistics retrieval from a single VMware service.
This delay should be set to the least update interval of any VMware monitoring item that uses VMware performance counters.

Default value: `$zabbix::params::proxy_vmwareperffrequency`

##### <a name="vmwaretimeout"></a>`vmwaretimeout`

Data type: `Any`

The maximum number of seconds vmware collector will wait for a response from VMware service (vCenter or ESX hypervisor).

Default value: `$zabbix::params::proxy_vmwaretimeout`

##### <a name="vmwarecachesize"></a>`vmwarecachesize`

Data type: `Any`

Size of vmware cache, in bytes.

Default value: `$zabbix::params::proxy_vmwarecachesize`

##### <a name="vaultdbpath"></a>`vaultdbpath`

Data type: `Optional[String[1]]`

Vault path from where credentials for database will be retrieved by keys 'password' and 'username'.

Default value: `$zabbix::params::proxy_vaultdbpath`

##### <a name="vaulttoken"></a>`vaulttoken`

Data type: `Optional[String[1]]`

Vault authentication token that should have been generated exclusively for Zabbix proxy with read-only
permission to the path specified in the optional VaultDBPath configuration parameter.

Default value: `$zabbix::params::proxy_vaulttoken`

##### <a name="vaulturl"></a>`vaulturl`

Data type: `Stdlib::HTTPSUrl`

Vault server HTTP[S] URL. System-wide CA certificates directory will be used if SSLCALocation is not specified.

Default value: `$zabbix::params::proxy_vaulturl`

##### <a name="snmptrapperfile"></a>`snmptrapperfile`

Data type: `Any`

Temporary file used for passing data from snmp trap daemon to the server.

Default value: `$zabbix::params::proxy_snmptrapperfile`

##### <a name="snmptrapper"></a>`snmptrapper`

Data type: `Any`

If 1, snmp trapper process is started.

Default value: `$zabbix::params::proxy_snmptrapper`

##### <a name="listenip"></a>`listenip`

Data type: `Any`

List of comma delimited ip addresses that the trapper should listen on.

Default value: `$zabbix::params::proxy_listenip`

##### <a name="housekeepingfrequency"></a>`housekeepingfrequency`

Data type: `Any`

How often Zabbix will perform housekeeping procedure (in hours).

Default value: `$zabbix::params::proxy_housekeepingfrequency`

##### <a name="cachesize"></a>`cachesize`

Data type: `Any`

Size of configuration cache, in MB.

Default value: `$zabbix::params::proxy_cachesize`

##### <a name="startdbsyncers"></a>`startdbsyncers`

Data type: `Any`

Number of pre-forked instances of db syncers.

Default value: `$zabbix::params::proxy_startdbsyncers`

##### <a name="historycachesize"></a>`historycachesize`

Data type: `Any`

Size of history cache, in bytes.

Default value: `$zabbix::params::proxy_historycachesize`

##### <a name="historyindexcachesize"></a>`historyindexcachesize`

Data type: `Any`

Size of history index cache, in bytes.

Default value: `$zabbix::params::proxy_historyindexcachesize`

##### <a name="historytextcachesize"></a>`historytextcachesize`

Data type: `Any`

Size of text history cache, in bytes.

Default value: `$zabbix::params::proxy_historytextcachesize`

##### <a name="timeout"></a>`timeout`

Data type: `Any`

Specifies how long we wait for agent, snmp device or external check (in seconds).

Default value: `$zabbix::params::proxy_timeout`

##### <a name="tlsaccept"></a>`tlsaccept`

Data type: `Any`

What incoming connections to accept from Zabbix server. Used for a passive proxy, ignored on an active proxy.

Default value: `$zabbix::params::proxy_tlsaccept`

##### <a name="tlscafile"></a>`tlscafile`

Data type: `Any`

Full pathname of a file containing the top-level CA(s) certificates for peer certificate verification.

Default value: `$zabbix::params::proxy_tlscafile`

##### <a name="tlscertfile"></a>`tlscertfile`

Data type: `Any`

Full pathname of a file containing the proxy certificate or certificate chain.

Default value: `$zabbix::params::proxy_tlscertfile`

##### <a name="tlsconnect"></a>`tlsconnect`

Data type: `Any`

How the proxy should connect to Zabbix server. Used for an active proxy, ignored on a passive proxy.

Default value: `$zabbix::params::proxy_tlsconnect`

##### <a name="tlscrlfile"></a>`tlscrlfile`

Data type: `Any`

Full pathname of a file containing revoked certificates.

Default value: `$zabbix::params::proxy_tlscrlfile`

##### <a name="tlskeyfile"></a>`tlskeyfile`

Data type: `Any`

Full pathname of a file containing the proxy private key.

Default value: `$zabbix::params::proxy_tlskeyfile`

##### <a name="tlspskfile"></a>`tlspskfile`

Data type: `Any`

Full pathname of a file containing the pre-shared key.

Default value: `$zabbix::params::proxy_tlspskfile`

##### <a name="tlspskidentity"></a>`tlspskidentity`

Data type: `Any`

Unique, case sensitive string used to identify the pre-shared key.

Default value: `$zabbix::params::proxy_tlspskidentity`

##### <a name="tlscipherall"></a>`tlscipherall`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::proxy_tlscipherall`

##### <a name="tlscipherall13"></a>`tlscipherall13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::proxy_tlscipherall13`

##### <a name="tlsciphercert"></a>`tlsciphercert`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::proxy_tlsciphercert`

##### <a name="tlsciphercert13"></a>`tlsciphercert13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::proxy_tlsciphercert13`

##### <a name="tlscipherpsk"></a>`tlscipherpsk`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::proxy_tlscipherpsk`

##### <a name="tlscipherpsk13"></a>`tlscipherpsk13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::proxy_tlscipherpsk13`

##### <a name="tlsservercertissuer"></a>`tlsservercertissuer`

Data type: `Any`

Allowed server certificate issuer.

Default value: `$zabbix::params::proxy_tlsservercertissuer`

##### <a name="tlsservercertsubject"></a>`tlsservercertsubject`

Data type: `Any`

Allowed server certificate subject.

Default value: `$zabbix::params::proxy_tlsservercertsubject`

##### <a name="trappertimeout"></a>`trappertimeout`

Data type: `Any`

Specifies how many seconds trapper may spend processing new data.

Default value: `$zabbix::params::proxy_trappertimeout`

##### <a name="unreachableperiod"></a>`unreachableperiod`

Data type: `Any`

After how many seconds of unreachability treat a host as unavailable.

Default value: `$zabbix::params::proxy_unreachableperiod`

##### <a name="unavaliabledelay"></a>`unavaliabledelay`

Data type: `Any`

How often host is checked for availability during the unavailability period, in seconds.

Default value: `$zabbix::params::proxy_unavaliabledelay`

##### <a name="unreachabedelay"></a>`unreachabedelay`

Data type: `Any`

How often host is checked for availability during the unreachability period, in seconds.

Default value: `$zabbix::params::proxy_unreachabedelay`

##### <a name="externalscripts"></a>`externalscripts`

Data type: `Any`

Full path to location of external scripts.

Default value: `$zabbix::params::proxy_externalscripts`

##### <a name="fpinglocation"></a>`fpinglocation`

Data type: `Any`

Location of fping.

Default value: `$zabbix::params::proxy_fpinglocation`

##### <a name="fping6location"></a>`fping6location`

Data type: `Any`

Location of fping6.

Default value: `$zabbix::params::proxy_fping6location`

##### <a name="sshkeylocation"></a>`sshkeylocation`

Data type: `Any`

Location of public and private keys for ssh checks and actions.

Default value: `$zabbix::params::proxy_sshkeylocation`

##### <a name="sslcalocation_dir"></a>`sslcalocation_dir`

Data type: `Optional[Stdlib::Absolutepath]`

Location of certificate authority (CA) files for SSL server certificate verification.

Default value: `$zabbix::params::proxy_sslcalocation`

##### <a name="sslcertlocation_dir"></a>`sslcertlocation_dir`

Data type: `Optional[Stdlib::Absolutepath]`

Location of SSL client certificate files for client authentication.

Default value: `$zabbix::params::proxy_sslcertlocation`

##### <a name="sslkeylocation_dir"></a>`sslkeylocation_dir`

Data type: `Optional[Stdlib::Absolutepath]`

Location of SSL private key files for client authentication.

Default value: `$zabbix::params::proxy_sslkeylocation`

##### <a name="logslowqueries"></a>`logslowqueries`

Data type: `Any`

How long a database query may take before being logged (in milliseconds).

Default value: `$zabbix::params::proxy_logslowqueries`

##### <a name="tmpdir"></a>`tmpdir`

Data type: `Any`

Temporary directory.

Default value: `$zabbix::params::proxy_tmpdir`

##### <a name="allowroot"></a>`allowroot`

Data type: `Any`

Allow the server to run as 'root'.

Default value: `$zabbix::params::proxy_allowroot`

##### <a name="include_dir"></a>`include_dir`

Data type: `Any`

You may include individual files or all files in a directory in the configuration file.

Default value: `$zabbix::params::proxy_include`

##### <a name="loadmodulepath"></a>`loadmodulepath`

Data type: `Any`

Full path to location of server modules.

Default value: `$zabbix::params::proxy_loadmodulepath`

##### <a name="loadmodule"></a>`loadmodule`

Data type: `Any`

Module to load at server startup.

Default value: `$zabbix::params::proxy_loadmodule`

##### <a name="manage_selinux"></a>`manage_selinux`

Data type: `Boolean`

Whether we should manage SELinux rules.

Default value: `$zabbix::params::manage_selinux`

##### <a name="socketdir"></a>`socketdir`

Data type: `Optional[Stdlib::Absolutepath]`

IPC socket directory. Directory to store IPC sockets used by internal Zabbix services.

Default value: `$zabbix::params::proxy_socketdir`

### <a name="zabbixrepo"></a>`zabbix::repo`

If enabled, this will install the repository used for installing zabbix

#### Parameters

The following parameters are available in the `zabbix::repo` class:

* [`manage_repo`](#manage_repo)
* [`manage_apt`](#manage_apt)
* [`zabbix_version`](#zabbix_version)
* [`repo_location`](#repo_location)
* [`frontend_repo_location`](#frontend_repo_location)
* [`unsupported_repo_location`](#unsupported_repo_location)

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`

When true, it will create repository for installing the server.

Default value: `$zabbix::params::manage_repo`

##### <a name="manage_apt"></a>`manage_apt`

Data type: `Boolean`

Whether the module should manage apt repositories for Debian based systems.

Default value: `$zabbix::params::manage_apt`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `String[1]`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="repo_location"></a>`repo_location`

Data type: `Optional[Stdlib::HTTPUrl]`

A custom repo location (e.g. your own mirror)

Default value: `$zabbix::params::repo_location`

##### <a name="frontend_repo_location"></a>`frontend_repo_location`

Data type: `Optional[Stdlib::HTTPUrl]`

A custom repo location for frontend package.

Default value: `$zabbix::params::frontend_repo_location`

##### <a name="unsupported_repo_location"></a>`unsupported_repo_location`

Data type: `Optional[Stdlib::HTTPUrl]`

A custom repo location for unsupported content (e.g. your own mirror)
Currently only supported under RedHat based systems.

Default value: `$zabbix::params::unsupported_repo_location`

### <a name="zabbixresourcesagent"></a>`zabbix::resources::agent`

This will create resources into puppetdb for automatically configuring agent into zabbix front-end.

#### Parameters

The following parameters are available in the `zabbix::resources::agent` class:

* [`hostname`](#hostname)
* [`ipaddress`](#ipaddress)
* [`use_ip`](#use_ip)
* [`port`](#port)
* [`group`](#group)
* [`groups`](#groups)
* [`group_create`](#group_create)
* [`templates`](#templates)
* [`macros`](#macros)
* [`proxy`](#proxy)
* [`interfacetype`](#interfacetype)
* [`interfacedetails`](#interfacedetails)

##### <a name="hostname"></a>`hostname`

Data type: `Any`

Hostname of the machine

Default value: ``undef``

##### <a name="ipaddress"></a>`ipaddress`

Data type: `Any`

The IP address of the machine running zabbix agent.

Default value: ``undef``

##### <a name="use_ip"></a>`use_ip`

Data type: `Any`

Use ipadress instead of dns to connect.

Default value: ``undef``

##### <a name="port"></a>`port`

Data type: `Any`

The port that the zabbix agent is listening on.

Default value: ``undef``

##### <a name="group"></a>`group`

Data type: `Any`

*Deprecated* (see groups parameter) Name of the hostgroup.

Default value: ``undef``

##### <a name="groups"></a>`groups`

Data type: `Array[String[1]]`

An array of groups the host belongs to.

Default value: ``undef``

##### <a name="group_create"></a>`group_create`

Data type: `Any`

Whether to create hostgroup if missing.

Default value: ``undef``

##### <a name="templates"></a>`templates`

Data type: `Any`

List of templates which should be attached to this host.

Default value: ``undef``

##### <a name="macros"></a>`macros`

Data type: `Any`

Array of hashes (macros) which should be attached to this host.

Default value: ``undef``

##### <a name="proxy"></a>`proxy`

Data type: `Any`

Whether it is monitored by an proxy or not.

Default value: ``undef``

##### <a name="interfacetype"></a>`interfacetype`

Data type: `Any`

Internally used identifier for the host interface.

Default value: `1`

##### <a name="interfacedetails"></a>`interfacedetails`

Data type: `Variant[Array, Hash]`

Hash with interface details for SNMP when interface type is 2.

Default value: `[]`

### <a name="zabbixresourcesproxy"></a>`zabbix::resources::proxy`

This will create resources into puppetdb for automatically configuring proxy agent into zabbix front-end.

#### Parameters

The following parameters are available in the `zabbix::resources::proxy` class:

* [`hostname`](#hostname)
* [`ipaddress`](#ipaddress)
* [`use_ip`](#use_ip)
* [`mode`](#mode)
* [`port`](#port)

##### <a name="hostname"></a>`hostname`

Data type: `Any`

Hostname of the proxy.

Default value: ``undef``

##### <a name="ipaddress"></a>`ipaddress`

Data type: `Any`

The IP address of the machine running zabbix proxy.

Default value: ``undef``

##### <a name="use_ip"></a>`use_ip`

Data type: `Any`

Whether to use ipadress instead of dns to connect.

Default value: ``undef``

##### <a name="mode"></a>`mode`

Data type: `Any`

The kind of mode the proxy running. Active (0) or passive (1).

Default value: ``undef``

##### <a name="port"></a>`port`

Data type: `Any`

The port that the zabbix proxy is listening on.

Default value: ``undef``

### <a name="zabbixresourcesweb"></a>`zabbix::resources::web`

This will load all zabbix related items from the puppet database and uses the zabbixapi gem to add/configure hosts via the zabbix-api

#### Parameters

The following parameters are available in the `zabbix::resources::web` class:

* [`zabbix_url`](#zabbix_url)
* [`zabbix_user`](#zabbix_user)
* [`zabbix_pass`](#zabbix_pass)
* [`apache_use_ssl`](#apache_use_ssl)

##### <a name="zabbix_url"></a>`zabbix_url`

Data type: `String[1]`

Url on which zabbix is available.

##### <a name="zabbix_user"></a>`zabbix_user`

Data type: `String[1]`

API username.

##### <a name="zabbix_pass"></a>`zabbix_pass`

Data type: `String[1]`

API password.

##### <a name="apache_use_ssl"></a>`apache_use_ssl`

Data type: `Boolean`

Whether to use ssl or not.

### <a name="zabbixsender"></a>`zabbix::sender`

This will install and configure the zabbix-agent deamon

#### Parameters

The following parameters are available in the `zabbix::sender` class:

* [`zabbix_version`](#zabbix_version)
* [`zabbix_package_state`](#zabbix_package_state)
* [`manage_repo`](#manage_repo)

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Any`

When true, it will create repository for installing the agent.

Default value: `$zabbix::params::manage_repo`

### <a name="zabbixserver"></a>`zabbix::server`

This will install and configure the zabbix-server deamon

#### Examples

##### 

```puppet
When running everything on a single node, please check
documentation in init.pp
The following is an example of an multiple host setup:

node 'wdpuppet03.dj-wasabi.local' {
  #class { 'postgresql::client': }
  class { 'mysql::client': }
  class { 'zabbix::server':
    zabbix_version => '2.4',
    database_host  => 'wdpuppet04.dj-wasabi.local',
    database_type  => 'mysql',
  }
}

The setup of above shows an configuration which used mysql as database.
It will require the database "client" classes, this is needed for executing
the installation files.

When database_type = postgres, uncomment the postgresql::client class and change or
remove the database_type parameter and comment the mysql::client class.
```

#### Parameters

The following parameters are available in the `zabbix::server` class:

* [`database_type`](#database_type)
* [`database_path`](#database_path)
* [`zabbix_version`](#zabbix_version)
* [`manage_repo`](#manage_repo)
* [`manage_database`](#manage_database)
* [`zabbix_package_state`](#zabbix_package_state)
* [`manage_firewall`](#manage_firewall)
* [`manage_service`](#manage_service)
* [`server_configfile_path`](#server_configfile_path)
* [`server_config_owner`](#server_config_owner)
* [`server_config_group`](#server_config_group)
* [`server_service_name`](#server_service_name)
* [`pacemaker`](#pacemaker)
* [`pacemaker_resource`](#pacemaker_resource)
* [`listenport`](#listenport)
* [`sourceip`](#sourceip)
* [`logfile`](#logfile)
* [`logfilesize`](#logfilesize)
* [`logtype`](#logtype)
* [`debuglevel`](#debuglevel)
* [`pidfile`](#pidfile)
* [`database_schema_path`](#database_schema_path)
* [`database_host`](#database_host)
* [`database_name`](#database_name)
* [`database_schema`](#database_schema)
* [`database_user`](#database_user)
* [`database_password`](#database_password)
* [`database_socket`](#database_socket)
* [`database_port`](#database_port)
* [`database_tlsconnect`](#database_tlsconnect)
* [`database_tlscafile`](#database_tlscafile)
* [`database_tlscertfile`](#database_tlscertfile)
* [`database_tlskeyfile`](#database_tlskeyfile)
* [`database_tlscipher`](#database_tlscipher)
* [`database_tlscipher13`](#database_tlscipher13)
* [`startpollers`](#startpollers)
* [`startpreprocessors`](#startpreprocessors)
* [`startipmipollers`](#startipmipollers)
* [`startpollersunreachable`](#startpollersunreachable)
* [`starttrappers`](#starttrappers)
* [`startpingers`](#startpingers)
* [`startalerters`](#startalerters)
* [`startdiscoverers`](#startdiscoverers)
* [`startescalators`](#startescalators)
* [`starthttppollers`](#starthttppollers)
* [`starttimers`](#starttimers)
* [`javagateway`](#javagateway)
* [`javagatewayport`](#javagatewayport)
* [`startjavapollers`](#startjavapollers)
* [`startlldprocessors`](#startlldprocessors)
* [`startvmwarecollectors`](#startvmwarecollectors)
* [`startreportwriters`](#startreportwriters)
* [`webserviceurl`](#webserviceurl)
* [`vmwarefrequency`](#vmwarefrequency)
* [`vaultdbpath`](#vaultdbpath)
* [`vaulttoken`](#vaulttoken)
* [`vaulturl`](#vaulturl)
* [`vmwarecachesize`](#vmwarecachesize)
* [`vmwaretimeout`](#vmwaretimeout)
* [`snmptrapperfile`](#snmptrapperfile)
* [`startsnmptrapper`](#startsnmptrapper)
* [`listenip`](#listenip)
* [`housekeepingfrequency`](#housekeepingfrequency)
* [`maxhousekeeperdelete`](#maxhousekeeperdelete)
* [`cachesize`](#cachesize)
* [`cacheupdatefrequency`](#cacheupdatefrequency)
* [`startdbsyncers`](#startdbsyncers)
* [`historycachesize`](#historycachesize)
* [`historyindexcachesize`](#historyindexcachesize)
* [`trendcachesize`](#trendcachesize)
* [`valuecachesize`](#valuecachesize)
* [`timeout`](#timeout)
* [`tlscafile`](#tlscafile)
* [`tlscertfile`](#tlscertfile)
* [`tlscrlfile`](#tlscrlfile)
* [`tlskeyfile`](#tlskeyfile)
* [`tlscipherall`](#tlscipherall)
* [`tlscipherall13`](#tlscipherall13)
* [`tlsciphercert`](#tlsciphercert)
* [`tlsciphercert13`](#tlsciphercert13)
* [`tlscipherpsk`](#tlscipherpsk)
* [`tlscipherpsk13`](#tlscipherpsk13)
* [`trappertimeout`](#trappertimeout)
* [`unreachableperiod`](#unreachableperiod)
* [`unavailabledelay`](#unavailabledelay)
* [`unreachabledelay`](#unreachabledelay)
* [`alertscriptspath`](#alertscriptspath)
* [`externalscripts`](#externalscripts)
* [`fpinglocation`](#fpinglocation)
* [`fping6location`](#fping6location)
* [`sshkeylocation`](#sshkeylocation)
* [`logslowqueries`](#logslowqueries)
* [`tmpdir`](#tmpdir)
* [`startproxypollers`](#startproxypollers)
* [`proxyconfigfrequency`](#proxyconfigfrequency)
* [`proxydatafrequency`](#proxydatafrequency)
* [`allowroot`](#allowroot)
* [`include_dir`](#include_dir)
* [`loadmodulepath`](#loadmodulepath)
* [`loadmodule`](#loadmodule)
* [`sslcertlocation_dir`](#sslcertlocation_dir)
* [`sslkeylocation_dir`](#sslkeylocation_dir)
* [`manage_selinux`](#manage_selinux)
* [`additional_service_params`](#additional_service_params)
* [`zabbix_user`](#zabbix_user)
* [`manage_startup_script`](#manage_startup_script)
* [`socketdir`](#socketdir)

##### <a name="database_type"></a>`database_type`

Data type: `Zabbix::Databases`

Type of database. Can use the following 2 databases:
- postgresql
- mysql

Default value: `$zabbix::params::database_type`

##### <a name="database_path"></a>`database_path`

Data type: `Any`

When database binaries are not found on the default path:
/bin:/usr/bin:/usr/local/sbin:/usr/local/bin
you can use this parameter to add the database_path to the above mentioned
path.

Default value: `$zabbix::params::database_path`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version. Example: 5.0

Default value: `$zabbix::params::zabbix_version`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`

When true (default) this module will manage the Zabbix repository.

Default value: `$zabbix::params::manage_repo`

##### <a name="manage_database"></a>`manage_database`

Data type: `Boolean`

When true, it will configure the database and execute the sql scripts.

Default value: `$zabbix::params::manage_database`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`

When true, it will create iptables rules.

Default value: `$zabbix::params::manage_firewall`

##### <a name="manage_service"></a>`manage_service`

Data type: `Boolean`

When true, it will ensure service running and enabled.
When false, it does not care about service

Default value: `$zabbix::params::manage_service`

##### <a name="server_configfile_path"></a>`server_configfile_path`

Data type: `Any`

Server config file path defaults to /etc/zabbix/zabbix_server.conf

Default value: `$zabbix::params::server_configfile_path`

##### <a name="server_config_owner"></a>`server_config_owner`

Data type: `Any`

The owner of Zabbix's server config file.

Default value: `$zabbix::params::server_config_owner`

##### <a name="server_config_group"></a>`server_config_group`

Data type: `Any`

The group of Zabbix's server config file.

Default value: `$zabbix::params::server_config_group`

##### <a name="server_service_name"></a>`server_service_name`

Data type: `Any`

The service name of Zabbix server.

Default value: `$zabbix::params::server_service_name`

##### <a name="pacemaker"></a>`pacemaker`

Data type: `Any`

Whether to control zabbix server through Pacemaker.

Default value: `$zabbix::params::server_pacemaker`

##### <a name="pacemaker_resource"></a>`pacemaker_resource`

Data type: `Any`

Zabbix server pacemaker resource.

Default value: `$zabbix::params::server_pacemaker_resource`

##### <a name="listenport"></a>`listenport`

Data type: `Any`

Listen port for the zabbix-server. Default: 10051

Default value: `$zabbix::params::server_listenport`

##### <a name="sourceip"></a>`sourceip`

Data type: `Any`

Source ip address for outgoing connections.

Default value: `$zabbix::params::server_sourceip`

##### <a name="logfile"></a>`logfile`

Data type: `Optional[Stdlib::Absolutepath]`

Name of log file.

Default value: `$zabbix::params::server_logfile`

##### <a name="logfilesize"></a>`logfilesize`

Data type: `Any`

Maximum size of log file in MB.

Default value: `$zabbix::params::server_logfilesize`

##### <a name="logtype"></a>`logtype`

Data type: `Enum['console', 'file', 'system']`

Specifies where log messages are written to. (options: console, file, system)

Default value: `$zabbix::params::server_logtype`

##### <a name="debuglevel"></a>`debuglevel`

Data type: `Any`

Specifies debug level.

Default value: `$zabbix::params::server_debuglevel`

##### <a name="pidfile"></a>`pidfile`

Data type: `Any`

Name of pid file.

Default value: `$zabbix::params::server_pidfile`

##### <a name="database_schema_path"></a>`database_schema_path`

Data type: `Any`

The path to the directory containing the .sql schema files

Default value: `$zabbix::params::database_schema_path`

##### <a name="database_host"></a>`database_host`

Data type: `Any`

Database host name.

Default value: `$zabbix::params::server_database_host`

##### <a name="database_name"></a>`database_name`

Data type: `Any`

Database name.

Default value: `$zabbix::params::server_database_name`

##### <a name="database_schema"></a>`database_schema`

Data type: `Any`

Schema name. used for ibm db2.

Default value: `$zabbix::params::server_database_schema`

##### <a name="database_user"></a>`database_user`

Data type: `Any`

Database user. ignored for sqlite.

Default value: `$zabbix::params::server_database_user`

##### <a name="database_password"></a>`database_password`

Data type: `Any`

Database password. ignored for sqlite.

Default value: `$zabbix::params::server_database_password`

##### <a name="database_socket"></a>`database_socket`

Data type: `Any`

Path to mysql socket.

Default value: `$zabbix::params::server_database_socket`

##### <a name="database_port"></a>`database_port`

Data type: `Optional[Stdlib::Port::Unprivileged]`

Database port when not using local socket. Ignored for sqlite.

Default value: `$zabbix::params::server_database_port`

##### <a name="database_tlsconnect"></a>`database_tlsconnect`

Data type: `Optional[Enum['required', 'verify_ca', 'verify_full']]`

Available options:
* required - connect using TLS
* verify_ca - connect using TLS and verify certificate
* verify_full - connect using TLS, verify certificate and verify that database identity specified by DBHost matches its certificate

Default value: `$zabbix::params::server_database_tlsconnect`

##### <a name="database_tlscafile"></a>`database_tlscafile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of a file containing the top-level CA(s) certificates for database certificate verification.

Default value: `$zabbix::params::server_database_tlscafile`

##### <a name="database_tlscertfile"></a>`database_tlscertfile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of file containing Zabbix server certificate for authenticating to database.

Default value: `$zabbix::params::server_database_tlscertfile`

##### <a name="database_tlskeyfile"></a>`database_tlskeyfile`

Data type: `Optional[Stdlib::Absolutepath]`

Full pathname of file containing the private key for authenticating to database.

Default value: `$zabbix::params::server_database_tlskeyfile`

##### <a name="database_tlscipher"></a>`database_tlscipher`

Data type: `Optional[String[1]]`

The list of encryption ciphers that Zabbix server permits for TLS protocols up through TLSv1.2.

Default value: `$zabbix::params::server_database_tlscipher`

##### <a name="database_tlscipher13"></a>`database_tlscipher13`

Data type: `Optional[String[1]]`

The list of encryption ciphersuites that Zabbix server permits for TLSv1.3 protocol.

Default value: `$zabbix::params::server_database_tlscipher13`

##### <a name="startpollers"></a>`startpollers`

Data type: `Any`

Number of pre-forked instances of pollers.

Default value: `$zabbix::params::server_startpollers`

##### <a name="startpreprocessors"></a>`startpreprocessors`

Data type: `Integer[1, 1000]`

Number of pre-forked instances of preprocessing workers

Default value: `$zabbix::params::server_startpreprocessors`

##### <a name="startipmipollers"></a>`startipmipollers`

Data type: `Any`

Number of pre-forked instances of ipmi pollers.

Default value: `$zabbix::params::server_startipmipollers`

##### <a name="startpollersunreachable"></a>`startpollersunreachable`

Data type: `Any`

Number of pre-forked instances of pollers for unreachable hosts (including ipmi).

Default value: `$zabbix::params::server_startpollersunreachable`

##### <a name="starttrappers"></a>`starttrappers`

Data type: `Any`

Number of pre-forked instances of trappers.

Default value: `$zabbix::params::server_starttrappers`

##### <a name="startpingers"></a>`startpingers`

Data type: `Any`

Number of pre-forked instances of icmp pingers.

Default value: `$zabbix::params::server_startpingers`

##### <a name="startalerters"></a>`startalerters`

Data type: `Integer[1, 100]`

Number of pre-forked instances of alerters.

Default value: `$zabbix::params::server_startalerters`

##### <a name="startdiscoverers"></a>`startdiscoverers`

Data type: `Any`

Number of pre-forked instances of discoverers.

Default value: `$zabbix::params::server_startdiscoverers`

##### <a name="startescalators"></a>`startescalators`

Data type: `Integer[1, 100]`

Number of pre-forked instances of escalators.

Default value: `$zabbix::params::server_startescalators`

##### <a name="starthttppollers"></a>`starthttppollers`

Data type: `Any`

Number of pre-forked instances of http pollers.

Default value: `$zabbix::params::server_starthttppollers`

##### <a name="starttimers"></a>`starttimers`

Data type: `Any`

Number of pre-forked instances of timers.

Default value: `$zabbix::params::server_starttimers`

##### <a name="javagateway"></a>`javagateway`

Data type: `Any`

IP address (or hostname) of zabbix java gateway.

Default value: `$zabbix::params::server_javagateway`

##### <a name="javagatewayport"></a>`javagatewayport`

Data type: `Any`

Port that zabbix java gateway listens on.

Default value: `$zabbix::params::server_javagatewayport`

##### <a name="startjavapollers"></a>`startjavapollers`

Data type: `Any`

Number of pre-forked instances of java pollers.

Default value: `$zabbix::params::server_startjavapollers`

##### <a name="startlldprocessors"></a>`startlldprocessors`

Data type: `Integer[1, 100]`

Number of pre-forked instances of low-level discovery (LLD) workers.

Default value: `$zabbix::params::server_startlldprocessors`

##### <a name="startvmwarecollectors"></a>`startvmwarecollectors`

Data type: `Any`

Number of pre-forked vmware collector instances.

Default value: `$zabbix::params::server_startvmwarecollectors`

##### <a name="startreportwriters"></a>`startreportwriters`

Data type: `Optional[Integer[1, 100]]`

Number of pre-forked report writer instances.

Default value: ``undef``

##### <a name="webserviceurl"></a>`webserviceurl`

Data type: `Optional[Stdlib::HTTPUrl]`

URL to Zabbix web service, used to perform web related tasks.

Default value: ``undef``

##### <a name="vmwarefrequency"></a>`vmwarefrequency`

Data type: `Any`

How often zabbix will connect to vmware service to obtain a new datan.

Default value: `$zabbix::params::server_vmwarefrequency`

##### <a name="vaultdbpath"></a>`vaultdbpath`

Data type: `Optional[String[1]]`

Vault path from where credentials for database will be retrieved by keys 'password' and 'username'.

Default value: `$zabbix::params::server_vaultdbpath`

##### <a name="vaulttoken"></a>`vaulttoken`

Data type: `Optional[String[1]]`

Vault authentication token that should have been generated exclusively for Zabbix proxy with read-only
permission to the path specified in the optional VaultDBPath configuration parameter.

Default value: `$zabbix::params::server_vaulttoken`

##### <a name="vaulturl"></a>`vaulturl`

Data type: `Stdlib::HTTPSUrl`

Vault server HTTP[S] URL. System-wide CA certificates directory will be used if SSLCALocation is not specified.

Default value: `$zabbix::params::server_vaulturl`

##### <a name="vmwarecachesize"></a>`vmwarecachesize`

Data type: `Any`

Size of vmware cache, in bytes.

Default value: `$zabbix::params::server_vmwarecachesize`

##### <a name="vmwaretimeout"></a>`vmwaretimeout`

Data type: `Any`

The maximum number of seconds vmware collector will wait for a response from VMware service.

Default value: `$zabbix::params::server_vmwaretimeout`

##### <a name="snmptrapperfile"></a>`snmptrapperfile`

Data type: `Any`

Temporary file used for passing data from snmp trap daemon to the server.

Default value: `$zabbix::params::server_snmptrapperfile`

##### <a name="startsnmptrapper"></a>`startsnmptrapper`

Data type: `Any`

If 1, snmp trapper process is started.

Default value: `$zabbix::params::server_startsnmptrapper`

##### <a name="listenip"></a>`listenip`

Data type: `Any`

List of comma delimited ip addresses that the zabbix-server should listen on.

Default value: `$zabbix::params::server_listenip`

##### <a name="housekeepingfrequency"></a>`housekeepingfrequency`

Data type: `Any`

How often zabbix will perform housekeeping procedure (in hours).

Default value: `$zabbix::params::server_housekeepingfrequency`

##### <a name="maxhousekeeperdelete"></a>`maxhousekeeperdelete`

Data type: `Any`

the table "housekeeper" contains "tasks" for housekeeping procedure in the format:
[housekeeperid], [tablename], [field], [value].
no more than 'maxhousekeeperdelete' rows (corresponding to [tablename], [field], [value])
will be deleted per one task in one housekeeping cycle.
sqlite3 does not use this parameter, deletes all corresponding rows without a limit.
if set to 0 then no limit is used at all. in this case you must know what you are doing!

Default value: `$zabbix::params::server_maxhousekeeperdelete`

##### <a name="cachesize"></a>`cachesize`

Data type: `Any`

Size of configuration cache, in bytes.

Default value: `$zabbix::params::server_cachesize`

##### <a name="cacheupdatefrequency"></a>`cacheupdatefrequency`

Data type: `Any`

How often zabbix will perform update of configuration cache, in seconds.

Default value: `$zabbix::params::server_cacheupdatefrequency`

##### <a name="startdbsyncers"></a>`startdbsyncers`

Data type: `Any`

Number of pre-forked instances of db syncers.

Default value: `$zabbix::params::server_startdbsyncers`

##### <a name="historycachesize"></a>`historycachesize`

Data type: `Any`

Size of history cache, in bytes.

Default value: `$zabbix::params::server_historycachesize`

##### <a name="historyindexcachesize"></a>`historyindexcachesize`

Data type: `Any`

Size of history index cache, in bytes.

Default value: `$zabbix::params::server_historyindexcachesize`

##### <a name="trendcachesize"></a>`trendcachesize`

Data type: `Any`

Size of trend cache, in bytes.

Default value: `$zabbix::params::server_trendcachesize`

##### <a name="valuecachesize"></a>`valuecachesize`

Data type: `Any`

Size of history value cache, in bytes.

Default value: `$zabbix::params::server_valuecachesize`

##### <a name="timeout"></a>`timeout`

Data type: `Any`

Specifies how long we wait for agent, snmp device or external check (in seconds).

Default value: `$zabbix::params::server_timeout`

##### <a name="tlscafile"></a>`tlscafile`

Data type: `Any`

Full pathname of a file containing the top-level CA(s) certificates for peer certificate verification.

Default value: `$zabbix::params::server_tlscafile`

##### <a name="tlscertfile"></a>`tlscertfile`

Data type: `Any`

Full pathname of a file containing the server certificate or certificate chain.

Default value: `$zabbix::params::server_tlscertfile`

##### <a name="tlscrlfile"></a>`tlscrlfile`

Data type: `Any`

Full pathname of a file containing revoked certificates.

Default value: `$zabbix::params::server_tlscrlfile`

##### <a name="tlskeyfile"></a>`tlskeyfile`

Data type: `Any`

Full pathname of a file containing the server private key.

Default value: `$zabbix::params::server_tlskeyfile`

##### <a name="tlscipherall"></a>`tlscipherall`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherall`

##### <a name="tlscipherall13"></a>`tlscipherall13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate- and PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherall13`

##### <a name="tlsciphercert"></a>`tlsciphercert`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::server_tlsciphercert`

##### <a name="tlsciphercert13"></a>`tlsciphercert13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for certificate-based encryption.

Default value: `$zabbix::params::server_tlsciphercert13`

##### <a name="tlscipherpsk"></a>`tlscipherpsk`

Data type: `Optional[String[1]]`

GnuTLS priority string or OpenSSL (TLS 1.2) cipher string. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherpsk`

##### <a name="tlscipherpsk13"></a>`tlscipherpsk13`

Data type: `Optional[String[1]]`

Cipher string for OpenSSL 1.1.1 or newer in TLS 1.3. Override the default ciphersuite selection criteria
for PSK-based encryption.

Default value: `$zabbix::params::server_tlscipherpsk13`

##### <a name="trappertimeout"></a>`trappertimeout`

Data type: `Any`

Specifies how many seconds trapper may spend processing new data.

Default value: `$zabbix::params::server_trappertimeout`

##### <a name="unreachableperiod"></a>`unreachableperiod`

Data type: `Any`

After how many seconds of unreachability treat a host as unavailable.

Default value: `$zabbix::params::server_unreachableperiod`

##### <a name="unavailabledelay"></a>`unavailabledelay`

Data type: `Any`

How often host is checked for availability during the unavailability period, in seconds.

Default value: `$zabbix::params::server_unavailabledelay`

##### <a name="unreachabledelay"></a>`unreachabledelay`

Data type: `Any`

How often host is checked for availability during the unreachability period, in seconds.

Default value: `$zabbix::params::server_unreachabledelay`

##### <a name="alertscriptspath"></a>`alertscriptspath`

Data type: `Any`

Full path to location of custom alert scripts.

Default value: `$zabbix::params::server_alertscriptspath`

##### <a name="externalscripts"></a>`externalscripts`

Data type: `Any`

Full path to location of external scripts.

Default value: `$zabbix::params::server_externalscripts`

##### <a name="fpinglocation"></a>`fpinglocation`

Data type: `Any`

Location of fping.

Default value: `$zabbix::params::server_fpinglocation`

##### <a name="fping6location"></a>`fping6location`

Data type: `Any`

Location of fping6.

Default value: `$zabbix::params::server_fping6location`

##### <a name="sshkeylocation"></a>`sshkeylocation`

Data type: `Any`

Location of public and private keys for ssh checks and actions.

Default value: `$zabbix::params::server_sshkeylocation`

##### <a name="logslowqueries"></a>`logslowqueries`

Data type: `Any`

How long a database query may take before being logged (in milliseconds).

Default value: `$zabbix::params::server_logslowqueries`

##### <a name="tmpdir"></a>`tmpdir`

Data type: `Any`

Temporary directory.

Default value: `$zabbix::params::server_tmpdir`

##### <a name="startproxypollers"></a>`startproxypollers`

Data type: `Any`

Number of pre-forked instances of pollers for passive proxies.

Default value: `$zabbix::params::server_startproxypollers`

##### <a name="proxyconfigfrequency"></a>`proxyconfigfrequency`

Data type: `Any`

How often zabbix server sends configuration data to a zabbix proxy in seconds.

Default value: `$zabbix::params::server_proxyconfigfrequency`

##### <a name="proxydatafrequency"></a>`proxydatafrequency`

Data type: `Any`

How often zabbix server requests history data from a zabbix proxy in seconds.

Default value: `$zabbix::params::server_proxydatafrequency`

##### <a name="allowroot"></a>`allowroot`

Data type: `Any`

Allow the server to run as 'root'.

Default value: `$zabbix::params::server_allowroot`

##### <a name="include_dir"></a>`include_dir`

Data type: `Any`

You may include individual files or all files in a directory in the configuration file.

Default value: `$zabbix::params::server_include`

##### <a name="loadmodulepath"></a>`loadmodulepath`

Data type: `Any`

Full path to location of server modules.

Default value: `$zabbix::params::server_loadmodulepath`

##### <a name="loadmodule"></a>`loadmodule`

Data type: `Any`

Module to load at server startup.

Default value: `$zabbix::params::server_loadmodule`

##### <a name="sslcertlocation_dir"></a>`sslcertlocation_dir`

Data type: `Any`

Location of SSL client certificate files for client authentication.

Default value: `$zabbix::params::server_sslcertlocation`

##### <a name="sslkeylocation_dir"></a>`sslkeylocation_dir`

Data type: `Any`

Location of SSL private key files for client authentication.

Default value: `$zabbix::params::server_sslkeylocation`

##### <a name="manage_selinux"></a>`manage_selinux`

Data type: `Boolean`

Whether we should manage SELinux rules.

Default value: `$zabbix::params::manage_selinux`

##### <a name="additional_service_params"></a>`additional_service_params`

Data type: `String`

Additional parameters to pass to the service.

Default value: `$zabbix::params::additional_service_params`

##### <a name="zabbix_user"></a>`zabbix_user`

Data type: `Optional[String[1]]`

User the zabbix service will run as.

Default value: `$zabbix::params::server_zabbix_user`

##### <a name="manage_startup_script"></a>`manage_startup_script`

Data type: `Boolean`

If the init script should be managed by this module. Attention: This might cause problems with some config options of this module (e.g server_configfile_path)

Default value: `$zabbix::params::manage_startup_script`

##### <a name="socketdir"></a>`socketdir`

Data type: `Optional[Stdlib::Absolutepath]`

IPC socket directory.
Directory to store IPC sockets used by internal Zabbix services.

Default value: `$zabbix::params::server_socketdir`

### <a name="zabbixuserparameter"></a>`zabbix::userparameter`

This class can be used when you use hiera or The Foreman. With this tools you can't use and define. This make use of "create_resources".

#### Examples

##### 

```puppet
zabbix::userparameter::data:
  MySQL:
    content: UserParameter=mysql.ping,mysqladmin -uroot ping | grep -c alive
```

#### Parameters

The following parameters are available in the `zabbix::userparameter` class:

* [`data`](#data)

##### <a name="data"></a>`data`

Data type: `Hash`

This is the data in YAML format

Default value: `{}`

### <a name="zabbixweb"></a>`zabbix::web`

This will install the zabbix-web package and install an virtual host.

#### Examples

##### For multiple host setup:

```puppet
node 'wdpuppet02.dj-wasabi.local' {
  class { 'apache':
      mpm_module => 'prefork',
  }
  class { 'apache::mod::php': }
  class { 'zabbix::web':
    zabbix_url    => 'zabbix.dj-wasabi.nl',
    zabbix_server => 'wdpuppet03.dj-wasabi.local',
    database_host => 'wdpuppet04.dj-wasabi.local',
    database_type => 'mysql',
    puppetgem     => 'gem',
  }
}
```

#### Parameters

The following parameters are available in the `zabbix::web` class:

* [`zabbix_url`](#zabbix_url)
* [`database_type`](#database_type)
* [`manage_repo`](#manage_repo)
* [`zabbix_version`](#zabbix_version)
* [`zabbix_timezone`](#zabbix_timezone)
* [`zabbix_template_dir`](#zabbix_template_dir)
* [`zabbix_package_state`](#zabbix_package_state)
* [`web_config_owner`](#web_config_owner)
* [`web_config_group`](#web_config_group)
* [`manage_vhost`](#manage_vhost)
* [`default_vhost`](#default_vhost)
* [`manage_resources`](#manage_resources)
* [`apache_use_ssl`](#apache_use_ssl)
* [`apache_ssl_cert`](#apache_ssl_cert)
* [`apache_ssl_key`](#apache_ssl_key)
* [`apache_ssl_cipher`](#apache_ssl_cipher)
* [`apache_ssl_chain`](#apache_ssl_chain)
* [`apache_listen_ip`](#apache_listen_ip)
* [`apache_listenport`](#apache_listenport)
* [`apache_listenport_ssl`](#apache_listenport_ssl)
* [`zabbix_api_user`](#zabbix_api_user)
* [`zabbix_api_pass`](#zabbix_api_pass)
* [`database_host`](#database_host)
* [`database_name`](#database_name)
* [`database_schema`](#database_schema)
* [`database_double_ieee754`](#database_double_ieee754)
* [`database_user`](#database_user)
* [`database_password`](#database_password)
* [`database_socket`](#database_socket)
* [`database_port`](#database_port)
* [`zabbix_server`](#zabbix_server)
* [`zabbix_server_name`](#zabbix_server_name)
* [`zabbix_listenport`](#zabbix_listenport)
* [`apache_php_max_execution_time`](#apache_php_max_execution_time)
* [`apache_php_memory_limit`](#apache_php_memory_limit)
* [`apache_php_post_max_size`](#apache_php_post_max_size)
* [`apache_php_upload_max_filesize`](#apache_php_upload_max_filesize)
* [`apache_php_max_input_time`](#apache_php_max_input_time)
* [`apache_php_always_populate_raw_post_data`](#apache_php_always_populate_raw_post_data)
* [`apache_php_max_input_vars`](#apache_php_max_input_vars)
* [`ldap_cacert`](#ldap_cacert)
* [`ldap_clientcert`](#ldap_clientcert)
* [`ldap_clientkey`](#ldap_clientkey)
* [`ldap_reqcert`](#ldap_reqcert)
* [`saml_sp_key`](#saml_sp_key)
* [`saml_sp_cert`](#saml_sp_cert)
* [`saml_idp_cert`](#saml_idp_cert)
* [`saml_settings`](#saml_settings)
* [`puppetgem`](#puppetgem)
* [`manage_selinux`](#manage_selinux)

##### <a name="zabbix_url"></a>`zabbix_url`

Data type: `Any`

Url on which zabbix needs to be available. Will create an vhost in
apache. Only needed when manage_vhost is set to true.
Example: zabbix.example.com

Default value: `$zabbix::params::zabbix_url`

##### <a name="database_type"></a>`database_type`

Data type: `Any`

Type of database. Can use the following 2 databases:
- postgresql
- mysql

Default value: `$zabbix::params::database_type`

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Any`

When true, it will create repository for installing the webinterface.

Default value: `$zabbix::params::manage_repo`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

This is the zabbix version.

Default value: `$zabbix::params::zabbix_version`

##### <a name="zabbix_timezone"></a>`zabbix_timezone`

Data type: `Any`

The current timezone for vhost configuration needed for the php timezone. Example: Europe/Amsterdam

Default value: `$zabbix::params::zabbix_timezone`

##### <a name="zabbix_template_dir"></a>`zabbix_template_dir`

Data type: `Any`

The directory where all templates are stored before uploading via API

Default value: `$zabbix::params::zabbix_template_dir`

##### <a name="zabbix_package_state"></a>`zabbix_package_state`

Data type: `Any`

The state of the package that needs to be installed: present or latest.

Default value: `$zabbix::params::zabbix_package_state`

##### <a name="web_config_owner"></a>`web_config_owner`

Data type: `Any`

Which user should own the web interface configuration file.

Default value: `$zabbix::params::web_config_owner`

##### <a name="web_config_group"></a>`web_config_group`

Data type: `Any`

Which group should own the web interface configuration file.

Default value: `$zabbix::params::web_config_group`

##### <a name="manage_vhost"></a>`manage_vhost`

Data type: `Any`

When true, it will create an vhost for apache. The parameter zabbix_url has to be set.

Default value: `$zabbix::params::manage_vhost`

##### <a name="default_vhost"></a>`default_vhost`

Data type: `Any`

When true priority of 15 is passed to zabbix vhost which would end up
with marking zabbix vhost as default one, when false priority is set to 25

Default value: `$zabbix::params::default_vhost`

##### <a name="manage_resources"></a>`manage_resources`

Data type: `Any`

When true, it will export resources to something like puppetdb.
When set to true, you'll need to configure 'storeconfigs' to make
this happen. Default is set to false, as not everyone has this
enabled.

Default value: `$zabbix::params::manage_resources`

##### <a name="apache_use_ssl"></a>`apache_use_ssl`

Data type: `Any`

Will create an ssl vhost. Also nonssl vhost will be created for redirect
nonssl to ssl vhost.

Default value: `$zabbix::params::apache_use_ssl`

##### <a name="apache_ssl_cert"></a>`apache_ssl_cert`

Data type: `Any`

The location of the ssl certificate file. You'll need to make sure this
file is present on the system, this module will not install this file.

Default value: `$zabbix::params::apache_ssl_cert`

##### <a name="apache_ssl_key"></a>`apache_ssl_key`

Data type: `Any`

The location of the ssl key file. You'll need to make sure this file is
present on the system, this module will not install this file.

Default value: `$zabbix::params::apache_ssl_key`

##### <a name="apache_ssl_cipher"></a>`apache_ssl_cipher`

Data type: `Any`

The ssl cipher used. Cipher is used from this website:
https://wiki.mozilla.org/Security/Server_Side_TLS

Default value: `$zabbix::params::apache_ssl_cipher`

##### <a name="apache_ssl_chain"></a>`apache_ssl_chain`

Data type: `Any`

The ssl chain file.

Default value: `$zabbix::params::apache_ssl_chain`

##### <a name="apache_listen_ip"></a>`apache_listen_ip`

Data type: `Any`

The IP the apache service should listen on.

Default value: `$zabbix::params::apache_listen_ip`

##### <a name="apache_listenport"></a>`apache_listenport`

Data type: `Any`

The port for the apache vhost.

Default value: `$zabbix::params::apache_listenport`

##### <a name="apache_listenport_ssl"></a>`apache_listenport_ssl`

Data type: `Any`

The port for the apache SSL vhost.

Default value: `$zabbix::params::apache_listenport_ssl`

##### <a name="zabbix_api_user"></a>`zabbix_api_user`

Data type: `Any`

Name of the user which the api should connect to. Default: Admin

Default value: `$zabbix::params::server_api_user`

##### <a name="zabbix_api_pass"></a>`zabbix_api_pass`

Data type: `Any`

Password of the user which connects to the api. Default: zabbix

Default value: `$zabbix::params::server_api_pass`

##### <a name="database_host"></a>`database_host`

Data type: `Any`

Database host name.

Default value: `$zabbix::params::server_database_host`

##### <a name="database_name"></a>`database_name`

Data type: `Any`

Database name.

Default value: `$zabbix::params::server_database_name`

##### <a name="database_schema"></a>`database_schema`

Data type: `Any`

Schema name. used for ibm db2.

Default value: `$zabbix::params::server_database_schema`

##### <a name="database_double_ieee754"></a>`database_double_ieee754`

Data type: `Boolean`

Enable extended range of float values for new installs of Zabbix >= 5.0 and
after patching upgraded installs to 5.0 or greater.
https://www.zabbix.com/documentation/5.0/manual/installation/upgrade_notes_500#enabling_extended_range_of_numeric_float_values

Default value: `$zabbix::params::server_database_double_ieee754`

##### <a name="database_user"></a>`database_user`

Data type: `Any`

Database user. ignored for sqlite.

Default value: `$zabbix::params::server_database_user`

##### <a name="database_password"></a>`database_password`

Data type: `Any`

Database password. ignored for sqlite.

Default value: `$zabbix::params::server_database_password`

##### <a name="database_socket"></a>`database_socket`

Data type: `Any`

Path to mysql socket.

Default value: `$zabbix::params::server_database_socket`

##### <a name="database_port"></a>`database_port`

Data type: `Any`

Database port when not using local socket. Ignored for sqlite.

Default value: `$zabbix::params::server_database_port`

##### <a name="zabbix_server"></a>`zabbix_server`

Data type: `Any`

The fqdn name of the host running the zabbix-server. When single node: localhost

Default value: `$zabbix::params::zabbix_server`

##### <a name="zabbix_server_name"></a>`zabbix_server_name`

Data type: `Optional[String]`

The fqdn name of the host running the zabbix-server. When single node:
localhost
This can also be used to upave a different name such as "Zabbix DEV"

Default value: `$zabbix::params::zabbix_server`

##### <a name="zabbix_listenport"></a>`zabbix_listenport`

Data type: `Any`

The port on which the zabbix-server is listening. Default: 10051

Default value: `$zabbix::params::server_listenport`

##### <a name="apache_php_max_execution_time"></a>`apache_php_max_execution_time`

Data type: `Any`

Max execution time for php. Default: 300

Default value: `$zabbix::params::apache_php_max_execution_time`

##### <a name="apache_php_memory_limit"></a>`apache_php_memory_limit`

Data type: `Any`

PHP memory size limit. Default: 128M

Default value: `$zabbix::params::apache_php_memory_limit`

##### <a name="apache_php_post_max_size"></a>`apache_php_post_max_size`

Data type: `Any`

PHP maximum post size data. Default: 16M

Default value: `$zabbix::params::apache_php_post_max_size`

##### <a name="apache_php_upload_max_filesize"></a>`apache_php_upload_max_filesize`

Data type: `Any`

PHP maximum upload filesize. Default: 2M

Default value: `$zabbix::params::apache_php_upload_max_filesize`

##### <a name="apache_php_max_input_time"></a>`apache_php_max_input_time`

Data type: `Any`

Max input time for php. Default: 300

Default value: `$zabbix::params::apache_php_max_input_time`

##### <a name="apache_php_always_populate_raw_post_data"></a>`apache_php_always_populate_raw_post_data`

Data type: `Any`

Default: -1

Default value: `$zabbix::params::apache_php_always_populate_raw_post_data`

##### <a name="apache_php_max_input_vars"></a>`apache_php_max_input_vars`

Data type: `Any`

Max amount of vars for GET/POST requests

Default value: `$zabbix::params::apache_php_max_input_vars`

##### <a name="ldap_cacert"></a>`ldap_cacert`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of ca_cert used by LDAP authentication.

Default value: `$zabbix::params::ldap_cacert`

##### <a name="ldap_clientcert"></a>`ldap_clientcert`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of client cert used by LDAP authentication.

Default value: `$zabbix::params::ldap_clientcert`

##### <a name="ldap_clientkey"></a>`ldap_clientkey`

Data type: `Optional[Stdlib::Absolutepath]`

Set location of client key used by LDAP authentication.

Default value: `$zabbix::params::ldap_clientkey`

##### <a name="ldap_reqcert"></a>`ldap_reqcert`

Data type: `Optional[Enum['never','allow','try','demand','hard']]`

Specifies what checks to perform on a server certificate

Default value: `$zabbix::params::ldap_reqcert`

##### <a name="saml_sp_key"></a>`saml_sp_key`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Service Provider Key file.

Default value: `$zabbix::params::saml_sp_key`

##### <a name="saml_sp_cert"></a>`saml_sp_cert`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Service Provider Certificate.

Default value: `$zabbix::params::saml_sp_cert`

##### <a name="saml_idp_cert"></a>`saml_idp_cert`

Data type: `Optional[Stdlib::Absolutepath]`

The location of the SAML Identity Provider Certificate.

Default value: `$zabbix::params::saml_idp_cert`

##### <a name="saml_settings"></a>`saml_settings`

Data type: `Hash[String[1], Variant[ScalarData, Hash]]`

A hash of additional SAML SSO settings.

Default value: `$zabbix::params::saml_settings`

##### <a name="puppetgem"></a>`puppetgem`

Data type: `Any`

Provider for the zabbixapi gem package.

Default value: `$zabbix::params::puppetgem`

##### <a name="manage_selinux"></a>`manage_selinux`

Data type: `Boolean`

Whether we should manage SELinux rules.

Default value: `$zabbix::params::manage_selinux`

### <a name="zabbixzapache"></a>`zabbix::zapache`

This will install and configure the zapache monitoring script Upstream: https://github.com/lorf/zapache

#### Examples

##### Basic installation:

```puppet
class { 'zabbix::agent':
  manage_resources => true,
  apache_status    => true,
  zbx_templates    => [ 'Template App Apache Web Server zapache'],
}
```

#### Parameters

The following parameters are available in the `zabbix::zapache` class:

* [`apache_status`](#apache_status)

##### <a name="apache_status"></a>`apache_status`

Data type: `Boolean`

Boolean. False by default. Installs zapache monitoring script when true.

Default value: `$zabbix::params::apache_status`

## Defined types

### <a name="zabbixresourcestemplate"></a>`zabbix::resources::template`

This will create resources into puppetdb for automatically configuring agent into zabbix front-end.

#### Parameters

The following parameters are available in the `zabbix::resources::template` defined type:

* [`template_dir`](#template_dir)
* [`template_name`](#template_name)
* [`template_source`](#template_source)
* [`zabbix_version`](#zabbix_version)
* [`delete_missing_applications`](#delete_missing_applications)
* [`delete_missing_drules`](#delete_missing_drules)
* [`delete_missing_graphs`](#delete_missing_graphs)
* [`delete_missing_httptests`](#delete_missing_httptests)
* [`delete_missing_items`](#delete_missing_items)
* [`delete_missing_templatescreens`](#delete_missing_templatescreens)
* [`delete_missing_triggers`](#delete_missing_triggers)

##### <a name="template_dir"></a>`template_dir`

Data type: `Any`

The directory containing zabbix templates

Default value: `$zabbix::params::zabbix_template_dir`

##### <a name="template_name"></a>`template_name`

Data type: `Any`

The name of template.

Default value: `$title`

##### <a name="template_source"></a>`template_source`

Data type: `Any`

Template source file.

Default value: `''`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `Any`

Zabbix version that the template will be installed on.

Default value: `$zabbix::params::zabbix_version`

##### <a name="delete_missing_applications"></a>`delete_missing_applications`

Data type: `Boolean`

Deletes applications from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_drules"></a>`delete_missing_drules`

Data type: `Boolean`

Deletes discovery rules from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_graphs"></a>`delete_missing_graphs`

Data type: `Boolean`

Deletes graphs from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_httptests"></a>`delete_missing_httptests`

Data type: `Boolean`

Deletes web-scenarios from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_items"></a>`delete_missing_items`

Data type: `Boolean`

Deletes items from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_templatescreens"></a>`delete_missing_templatescreens`

Data type: `Boolean`

Deletes template-screens from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_triggers"></a>`delete_missing_triggers`

Data type: `Boolean`

Deletes triggers from zabbix that are not in the template when set to true

Default value: ``false``

### <a name="zabbixresourcesuserparameters"></a>`zabbix::resources::userparameters`

This will create resources into puppetdb for automatically configuring agent into zabbix front-end.

#### Parameters

The following parameters are available in the `zabbix::resources::userparameters` defined type:

* [`ensure`](#ensure)
* [`hostname`](#hostname)
* [`template`](#template)

##### <a name="ensure"></a>`ensure`

Data type: `Any`

Ensure resource.

##### <a name="hostname"></a>`hostname`

Data type: `Any`

Hostname of the machine.

##### <a name="template"></a>`template`

Data type: `Any`

Template which should be attached to this host.

### <a name="zabbixstartup"></a>`zabbix::startup`

This manage the zabbix related service startup script.

#### Examples

##### 

```puppet
zabbix::startup { 'agent': }
```

##### 

```puppet
zabbix::startup { 'server': }
```

#### Parameters

The following parameters are available in the `zabbix::startup` defined type:

* [`pidfile`](#pidfile)
* [`agent_configfile_path`](#agent_configfile_path)
* [`server_configfile_path`](#server_configfile_path)
* [`database_type`](#database_type)
* [`zabbix_user`](#zabbix_user)
* [`additional_service_params`](#additional_service_params)
* [`service_type`](#service_type)
* [`manage_database`](#manage_database)
* [`service_name`](#service_name)

##### <a name="pidfile"></a>`pidfile`

Data type: `Optional[Stdlib::Absolutepath]`

Location of the PID file

Default value: ``undef``

##### <a name="agent_configfile_path"></a>`agent_configfile_path`

Data type: `Optional[Stdlib::Absolutepath]`

Location of Zabbix's agent configuration file

Default value: ``undef``

##### <a name="server_configfile_path"></a>`server_configfile_path`

Data type: `Optional[Stdlib::Absolutepath]`

Location of Zabbix's server configuration file

Default value: ``undef``

##### <a name="database_type"></a>`database_type`

Data type: `Optional[Zabbix::Databases]`

Type of database. Can use the following 2 databases:
- postgresql
- mysql

Default value: ``undef``

##### <a name="zabbix_user"></a>`zabbix_user`

Data type: `Optional[String]`

User the zabbix service will run as

Default value: ``undef``

##### <a name="additional_service_params"></a>`additional_service_params`

Data type: `Optional[String[1]]`

Additional parameters to pass to the service

Default value: ``undef``

##### <a name="service_type"></a>`service_type`

Data type: `String`

Systemd service type

Default value: `'simple'`

##### <a name="manage_database"></a>`manage_database`

Data type: `Optional[Boolean]`

When true, it will configure the database and execute the sql scripts.

Default value: ``undef``

##### <a name="service_name"></a>`service_name`

Data type: `Optional[String]`

Name of the service. Defaults to the resource name

Default value: `$name`

### <a name="zabbixtemplate"></a>`zabbix::template`

This will upload an Zabbix Template (XML format)

#### Examples

##### 

```puppet
zabbix::template { 'Template App MySQL':
   templ_source => 'puppet:///modules/zabbix/MySQL.xml'
}
```

#### Parameters

The following parameters are available in the `zabbix::template` defined type:

* [`templ_name`](#templ_name)
* [`templ_source`](#templ_source)
* [`zabbix_version`](#zabbix_version)
* [`delete_missing_applications`](#delete_missing_applications)
* [`delete_missing_drules`](#delete_missing_drules)
* [`delete_missing_graphs`](#delete_missing_graphs)
* [`delete_missing_httptests`](#delete_missing_httptests)
* [`delete_missing_items`](#delete_missing_items)
* [`delete_missing_templatescreens`](#delete_missing_templatescreens)
* [`delete_missing_triggers`](#delete_missing_triggers)

##### <a name="templ_name"></a>`templ_name`

Data type: `Any`

The name of the template. This name will be found in the Web interface

Default value: `$title`

##### <a name="templ_source"></a>`templ_source`

Data type: `Any`

The location of the XML file wich needs to be imported.

Default value: `''`

##### <a name="zabbix_version"></a>`zabbix_version`

Data type: `String[1]`

The Zabbix version on which the template will be installed on.

Default value: `$zabbix::params::zabbix_version`

##### <a name="delete_missing_applications"></a>`delete_missing_applications`

Data type: `Boolean`

Deletes applications from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_drules"></a>`delete_missing_drules`

Data type: `Boolean`

Deletes discovery rules from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_graphs"></a>`delete_missing_graphs`

Data type: `Boolean`

Deletes graphs from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_httptests"></a>`delete_missing_httptests`

Data type: `Boolean`

Deletes web-scenarios from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_items"></a>`delete_missing_items`

Data type: `Boolean`

Deletes items from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_templatescreens"></a>`delete_missing_templatescreens`

Data type: `Boolean`

Deletes template-screens from zabbix that are not in the template when set to true

Default value: ``false``

##### <a name="delete_missing_triggers"></a>`delete_missing_triggers`

Data type: `Boolean`

Deletes triggers from zabbix that are not in the template when set to true

Default value: ``false``

### <a name="zabbixuserparameters"></a>`zabbix::userparameters`

This will install an userparameters file with keys for items that can be checked with zabbix.

#### Examples

##### 

```puppet
zabbix::userparameters { 'mysql':
  source => 'puppet:///modules/zabbix/mysqld.conf',
}
```

##### 

```puppet
zabbix::userparameters { 'mysql':
  content => 'UserParameter=mysql.ping,mysqladmin -uroot ping | grep -c alive',
}
```

##### Or when using exported resources (manage_resources is set to true)

```puppet
zabbix::userparameters { 'mysql':
  source   => 'puppet:///modules/zabbix/mysqld.conf',
  template => 'Template App MySQL',
}
```

#### Parameters

The following parameters are available in the `zabbix::userparameters` defined type:

* [`ensure`](#ensure)
* [`source`](#source)
* [`content`](#content)
* [`script`](#script)
* [`script_ext`](#script_ext)
* [`template`](#template)
* [`script_dir`](#script_dir)
* [`config_mode`](#config_mode)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`

If the userparameter should be `present` or `absent`

Default value: `'present'`

##### <a name="source"></a>`source`

Data type: `Optional[Stdlib::Filesource]`

File which holds several userparameter entries.

Default value: ``undef``

##### <a name="content"></a>`content`

Data type: `Optional[String[1]]`

When you have 1 userparameter entry which you want to install.

Default value: ``undef``

##### <a name="script"></a>`script`

Data type: `Optional[Stdlib::Filesource]`

Low level discovery (LLD) script.

Default value: ``undef``

##### <a name="script_ext"></a>`script_ext`

Data type: `Optional[String[1]]`

The script extention. Should be started with the dot. Like: .sh .bat .py

Default value: ``undef``

##### <a name="template"></a>`template`

Data type: `Optional[String[1]]`

When you use exported resources (when manage_resources is set to true on other components)
you'll can add the name of the template which correspondents with the 'content' or
'source' which you add. The template will be added to the host.

Default value: ``undef``

##### <a name="script_dir"></a>`script_dir`

Data type: `Stdlib::Absolutepath`

When 'script' is used, this parameter can provide the directly where this script needs to be placed. Default: '/usr/bin'

Default value: `'/usr/bin'`

##### <a name="config_mode"></a>`config_mode`

Data type: `Stdlib::Filemode`

When 'config_mode' is used, this parameter can provide the mode of the config file who will be created
to keep some credidentials private. Default: '0644'

Default value: `'0644'`

## Resource types

### <a name="zabbix_application"></a>`zabbix_application`

%q(Manage zabbix applications

    zabbix_application{"app1":
      ensure   => present,
      template => 'template1',
    }

It Raise exception on deleting an application which is a part of used template.

)

#### Properties

The following properties are available in the `zabbix_application` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `zabbix_application` type.

* [`name`](#name)
* [`provider`](#provider)
* [`template`](#template)

##### <a name="name"></a>`name`

namevar

application name

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_application` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="template"></a>`template`

template to which the application is linked

### <a name="zabbix_host"></a>`zabbix_host`

FQDN of the machine.

#### Properties

The following properties are available in the `zabbix_host` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `group`

Deprecated! Name of the hostgroup.

##### `groups`

An array of groups the host belongs to.

##### `id`

Internally used hostid

##### `interfacedetails`

Additional interface details.

##### `interfaceid`

Internally used identifier for the host interface

##### `interfacetype`

Interface type. 1 for zabbix agent.

##### `ipaddress`

The IP address of the machine running zabbix agent.

##### `macros`

Array of hashes (macros) which should be loaded for this host.

##### `port`

The port that the zabbix agent is listening on.

##### `proxy`

Whether it is monitored by an proxy or not.

##### `templates`

List of templates which should be loaded for this host.

##### `use_ip`

Valid values: ``true``, ``false``

Using ipadress instead of dns to connect.

#### Parameters

The following parameters are available in the `zabbix_host` type.

* [`group_create`](#group_create)
* [`hostname`](#hostname)
* [`provider`](#provider)

##### <a name="group_create"></a>`group_create`

Valid values: ``true``, ``false``

Create hostgroup if missing.

##### <a name="hostname"></a>`hostname`

FQDN of the machine.

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_host` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

### <a name="zabbix_hostgroup"></a>`zabbix_hostgroup`

Manage zabbix hostgroups

#### Properties

The following properties are available in the `zabbix_hostgroup` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `zabbix_hostgroup` type.

* [`name`](#name)
* [`provider`](#provider)

##### <a name="name"></a>`name`

namevar

hostgroup name

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_hostgroup` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

### <a name="zabbix_proxy"></a>`zabbix_proxy`

FQDN of the proxy.

#### Properties

The following properties are available in the `zabbix_proxy` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `interfaceid`

(readonly) ID of the interface

##### `ipaddress`

The IP address of the machine running zabbix proxy.

##### `mode`

Valid values: `active`, `passive`, `0`, `1`, `0`, `1`

The kind of mode the proxy running. Active (0) or passive (1).

##### `port`

The port that the zabbix proxy is listening on.

##### `proxyid`

(readonly) ID of the proxy

##### `use_ip`

Using ipadress instead of dns to connect. Is used by the zabbix-api command.

#### Parameters

The following parameters are available in the `zabbix_proxy` type.

* [`hostname`](#hostname)
* [`provider`](#provider)

##### <a name="hostname"></a>`hostname`

FQDN of the proxy.

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_proxy` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

### <a name="zabbix_template"></a>`zabbix_template`

The name of template.

#### Properties

The following properties are available in the `zabbix_template` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `zabbix_template` type.

* [`delete_missing_applications`](#delete_missing_applications)
* [`delete_missing_drules`](#delete_missing_drules)
* [`delete_missing_graphs`](#delete_missing_graphs)
* [`delete_missing_httptests`](#delete_missing_httptests)
* [`delete_missing_items`](#delete_missing_items)
* [`delete_missing_templatescreens`](#delete_missing_templatescreens)
* [`delete_missing_triggers`](#delete_missing_triggers)
* [`provider`](#provider)
* [`template_name`](#template_name)
* [`template_source`](#template_source)
* [`zabbix_version`](#zabbix_version)

##### <a name="delete_missing_applications"></a>`delete_missing_applications`

Delete applications from zabbix which are not in the template.

##### <a name="delete_missing_drules"></a>`delete_missing_drules`

Delete discovery rules from zabbix which are not in the template.

##### <a name="delete_missing_graphs"></a>`delete_missing_graphs`

Delete graphs from zabbix which are not in the template.

##### <a name="delete_missing_httptests"></a>`delete_missing_httptests`

Delete web scenarios from zabbix which are not in the template.

##### <a name="delete_missing_items"></a>`delete_missing_items`

Delete items from zabbix which are not in the template.

##### <a name="delete_missing_templatescreens"></a>`delete_missing_templatescreens`

Delete templateScreens from zabbix which are not in the template.

##### <a name="delete_missing_triggers"></a>`delete_missing_triggers`

Delete triggers from zabbix which are not in the template.

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_template` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="template_name"></a>`template_name`

The name of template.

##### <a name="template_source"></a>`template_source`

Template source file.

##### <a name="zabbix_version"></a>`zabbix_version`

Zabbix version that the template will be installed on.

### <a name="zabbix_template_host"></a>`zabbix_template_host`

Link or Unlink template to host. Only for Zabbix < 6.0!
Example.
Name should be in the format of "template_name@hostname"

zabbix_template_host{ 'mysql_template@db1':
      ensure => present,
    }

#### Properties

The following properties are available in the `zabbix_template_host` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `zabbix_template_host` type.

* [`name`](#name)
* [`provider`](#provider)

##### <a name="name"></a>`name`

Valid values: `%r{.+@.+}`

namevar

template_name@host_name

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_template_host` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

### <a name="zabbix_userparameters"></a>`zabbix_userparameters`

An unique name for this define.

#### Properties

The following properties are available in the `zabbix_userparameters` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `zabbix_userparameters` type.

* [`hostname`](#hostname)
* [`name`](#name)
* [`provider`](#provider)
* [`template`](#template)

##### <a name="hostname"></a>`hostname`

FQDN of the machine.

##### <a name="name"></a>`name`

namevar

An unique name for this define.

##### <a name="provider"></a>`provider`

The specific backend to use for this `zabbix_userparameters` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

##### <a name="template"></a>`template`

Template which should be loaded for this host.

## Data types

### <a name="zabbixdatabases"></a>`Zabbix::Databases`

Type for supported databases by the zabbix module

Alias of

```puppet
Enum['postgresql', 'mysql', 'sqlite']
```

### <a name="zabbixhistoryics"></a>`Zabbix::Historyics`

The Zabbix::Historyics data type.

Alias of

```puppet
Optional[Pattern[/^\d+[k|K|m|M]?$/]]
```

